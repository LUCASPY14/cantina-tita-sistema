# Generated by Django 5.2.8 on 2026-02-04 03:08

import django.db.models.deletion
import django.utils.timezone
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
    ]

    operations = [
        migrations.CreateModel(
            name='Alergeno',
            fields=[
                ('id_alergeno', models.AutoField(db_column='ID_Alergeno', primary_key=True, serialize=False)),
                ('nombre', models.CharField(db_column='Nombre', max_length=100, unique=True)),
                ('descripcion', models.TextField(blank=True, db_column='Descripcion', null=True)),
                ('palabras_clave', models.JSONField(db_column='Palabras_Clave', help_text='Array de palabras clave para b√∫squeda (ej: ["man√≠", "peanut", "cacahuete"])')),
                ('nivel_severidad', models.CharField(choices=[('CRITICO', 'Cr√≠tico'), ('ALTO', 'Alto'), ('MEDIO', 'Medio'), ('BAJO', 'Bajo')], db_column='Nivel_Severidad', default='MEDIO', max_length=10)),
                ('icono', models.CharField(blank=True, db_column='Icono', help_text='Emoji representativo (ej: ü•ú, ü•õ, üåæ)', max_length=10, null=True)),
                ('activo', models.BooleanField(db_column='Activo', default=True)),
                ('fecha_creacion', models.DateTimeField(auto_now_add=True, db_column='Fecha_Creacion')),
                ('usuario_creacion', models.CharField(blank=True, db_column='Usuario_Creacion', max_length=100, null=True)),
            ],
            options={
                'verbose_name': 'Al√©rgeno',
                'verbose_name_plural': 'Al√©rgenos',
                'db_table': 'alergenos',
                'ordering': ['nivel_severidad', 'nombre'],
                'abstract': False,
                'managed': True,
            },
        ),
        migrations.CreateModel(
            name='AlertasSistema',
            fields=[
                ('id_alerta', models.BigAutoField(db_column='ID_Alerta', primary_key=True, serialize=False)),
                ('tipo', models.CharField(choices=[('Stock Bajo', 'Stock Bajo'), ('Saldo Bajo', 'Saldo Bajo'), ('Timbrado Pr√≥ximo a Vencer', 'Timbrado Pr√≥ximo a Vencer'), ('Sistema', 'Sistema')], db_column='Tipo', max_length=30)),
                ('mensaje', models.CharField(db_column='Mensaje', max_length=500)),
                ('fecha_creacion', models.DateTimeField(db_column='Fecha_Creacion')),
                ('fecha_leida', models.DateTimeField(blank=True, db_column='Fecha_Leida', null=True)),
                ('estado', models.CharField(blank=True, choices=[('Pendiente', 'Pendiente'), ('Le√≠da', 'Le√≠da'), ('Resuelta', 'Resuelta')], db_column='Estado', max_length=9, null=True)),
                ('id_empleado_resuelve', models.BigIntegerField(blank=True, db_column='ID_Empleado_Resuelve', null=True)),
                ('fecha_resolucion', models.DateTimeField(blank=True, db_column='Fecha_Resolucion', null=True)),
                ('observaciones', models.TextField(blank=True, db_column='Observaciones', null=True)),
            ],
            options={
                'verbose_name': 'Alerta del Sistema',
                'verbose_name_plural': 'Alertas del Sistema',
                'db_table': 'alertas_sistema',
                'abstract': False,
                'managed': True,
            },
        ),
        migrations.CreateModel(
            name='AnomaliaDetectada',
            fields=[
                ('id_anomalia', models.AutoField(db_column='ID_Anomalia', primary_key=True, serialize=False)),
                ('usuario', models.CharField(db_column='Usuario', max_length=100)),
                ('tipo_anomalia', models.CharField(choices=[('IP_NUEVA', 'IP Nueva'), ('HORARIO_INUSUAL', 'Horario Inusual'), ('MULTIPLES_SESIONES', 'M√∫ltiples Sesiones'), ('UBICACION_SOSPECHOSA', 'Ubicaci√≥n Sospechosa')], db_column='Tipo_Anomalia', max_length=30)),
                ('ip_address', models.CharField(blank=True, db_column='IP_Address', max_length=45, null=True)),
                ('fecha_deteccion', models.DateTimeField(db_column='Fecha_Deteccion')),
                ('descripcion', models.TextField(blank=True, db_column='Descripcion', null=True)),
                ('nivel_riesgo', models.CharField(choices=[('BAJO', 'Bajo'), ('MEDIO', 'Medio'), ('ALTO', 'Alto')], db_column='Nivel_Riesgo', default='MEDIO', max_length=10)),
                ('notificado', models.BooleanField(db_column='Notificado', default=False)),
            ],
            options={
                'verbose_name': 'Anomal√≠a Detectada',
                'verbose_name_plural': 'Anomal√≠as Detectadas',
                'db_table': 'anomalias_detectadas',
                'ordering': ['-fecha_deteccion'],
                'abstract': False,
                'managed': True,
            },
        ),
        migrations.CreateModel(
            name='AuditoriaOperacion',
            fields=[
                ('id_auditoria', models.AutoField(db_column='ID_Auditoria', primary_key=True, serialize=False)),
                ('usuario', models.CharField(db_column='Usuario', max_length=100)),
                ('tipo_usuario', models.CharField(choices=[('EMPLEADO', 'Empleado'), ('CLIENTE_WEB', 'Cliente Web'), ('ADMIN', 'Administrador')], db_column='Tipo_Usuario', max_length=20)),
                ('id_usuario', models.IntegerField(blank=True, db_column='ID_Usuario', null=True)),
                ('operacion', models.CharField(db_column='Operacion', max_length=100)),
                ('tabla_afectada', models.CharField(blank=True, db_column='Tabla_Afectada', max_length=100, null=True)),
                ('id_registro', models.IntegerField(blank=True, db_column='ID_Registro', null=True)),
                ('descripcion', models.TextField(blank=True, db_column='Descripcion', null=True)),
                ('datos_anteriores', models.JSONField(blank=True, db_column='Datos_Anteriores', null=True)),
                ('datos_nuevos', models.JSONField(blank=True, db_column='Datos_Nuevos', null=True)),
                ('ip_address', models.CharField(blank=True, db_column='IP_Address', max_length=45, null=True)),
                ('ciudad', models.CharField(blank=True, db_column='Ciudad', max_length=100, null=True)),
                ('pais', models.CharField(blank=True, db_column='Pais', max_length=100, null=True)),
                ('user_agent', models.TextField(blank=True, db_column='User_Agent', null=True)),
                ('fecha_operacion', models.DateTimeField(db_column='Fecha_Operacion')),
                ('resultado', models.CharField(choices=[('EXITOSO', 'Exitoso'), ('FALLIDO', 'Fallido')], db_column='Resultado', max_length=20)),
                ('mensaje_error', models.TextField(blank=True, db_column='Mensaje_Error', null=True)),
            ],
            options={
                'verbose_name': 'Auditor√≠a de Operaci√≥n',
                'verbose_name_plural': 'Auditor√≠a de Operaciones',
                'db_table': 'auditoria_operaciones',
                'ordering': ['-fecha_operacion'],
                'abstract': False,
                'managed': True,
            },
        ),
        migrations.CreateModel(
            name='BloqueoCuenta',
            fields=[
                ('id_bloqueo', models.AutoField(db_column='ID_Bloqueo', primary_key=True, serialize=False)),
                ('usuario', models.CharField(db_column='Usuario', max_length=100)),
                ('tipo_usuario', models.CharField(choices=[('EMPLEADO', 'Empleado'), ('CLIENTE_WEB', 'Cliente Web')], db_column='Tipo_Usuario', max_length=20)),
                ('motivo', models.CharField(db_column='Motivo', max_length=255)),
                ('fecha_bloqueo', models.DateTimeField(db_column='Fecha_Bloqueo')),
                ('fecha_desbloqueo', models.DateTimeField(blank=True, db_column='Fecha_Desbloqueo', null=True)),
                ('bloqueado_por', models.CharField(blank=True, db_column='Bloqueado_Por', max_length=100, null=True)),
                ('ip_address', models.CharField(blank=True, db_column='IP_Address', max_length=45, null=True)),
                ('activo', models.BooleanField(db_column='Activo', default=True)),
            ],
            options={
                'verbose_name': 'Bloqueo de Cuenta',
                'verbose_name_plural': 'Bloqueos de Cuentas',
                'db_table': 'bloqueos_cuenta',
                'ordering': ['-fecha_bloqueo'],
                'abstract': False,
                'managed': True,
            },
        ),
        migrations.CreateModel(
            name='Cajas',
            fields=[
                ('id_caja', models.AutoField(db_column='ID_Caja', primary_key=True, serialize=False)),
                ('nombre_caja', models.CharField(db_column='Nombre_Caja', max_length=50)),
                ('ubicacion', models.CharField(blank=True, db_column='Ubicacion', max_length=100, null=True)),
                ('activo', models.IntegerField(blank=True, db_column='Activo', null=True)),
            ],
            options={
                'verbose_name': 'Caja',
                'verbose_name_plural': 'Cajas',
                'db_table': 'cajas',
                'abstract': False,
                'managed': True,
            },
        ),
        migrations.CreateModel(
            name='Cliente',
            fields=[
                ('id_cliente', models.AutoField(db_column='ID_Cliente', primary_key=True, serialize=False)),
                ('nombres', models.CharField(db_column='Nombres', max_length=100)),
                ('apellidos', models.CharField(db_column='Apellidos', max_length=100)),
                ('razon_social', models.CharField(blank=True, db_column='Razon_Social', max_length=255, null=True)),
                ('ruc_ci', models.CharField(db_column='Ruc_CI', max_length=20, unique=True)),
                ('direccion', models.CharField(blank=True, db_column='Direccion', max_length=255, null=True)),
                ('ciudad', models.CharField(blank=True, db_column='Ciudad', max_length=100, null=True)),
                ('telefono', models.CharField(blank=True, db_column='Telefono', max_length=20, null=True)),
                ('email', models.EmailField(blank=True, db_column='Email', max_length=254, null=True)),
                ('limite_credito', models.DecimalField(blank=True, db_column='Limite_Credito', decimal_places=2, max_digits=12, null=True)),
                ('activo', models.BooleanField(db_column='Activo', default=True)),
                ('fecha_registro', models.DateTimeField(auto_now_add=True, db_column='Fecha_Registro')),
            ],
            options={
                'verbose_name': 'Cliente',
                'verbose_name_plural': 'Clientes',
                'db_table': 'clientes',
                'abstract': False,
                'managed': True,
            },
        ),
        migrations.CreateModel(
            name='Compras',
            fields=[
                ('id_compra', models.BigAutoField(db_column='ID_Compra', primary_key=True, serialize=False)),
                ('fecha', models.DateTimeField(db_column='Fecha')),
                ('monto_total', models.DecimalField(db_column='Monto_Total', decimal_places=2, max_digits=12)),
                ('saldo_pendiente', models.DecimalField(blank=True, db_column='Saldo_Pendiente', decimal_places=2, max_digits=12, null=True)),
                ('estado_pago', models.CharField(choices=[('PENDIENTE', 'Pendiente'), ('PARCIAL', 'Parcial'), ('PAGADA', 'Pagada')], db_column='Estado_Pago', default='PENDIENTE', max_length=10)),
                ('nro_factura', models.CharField(blank=True, db_column='Nro_Factura', max_length=50, null=True)),
                ('observaciones', models.TextField(blank=True, db_column='Observaciones', null=True)),
            ],
            options={
                'verbose_name': 'Compra',
                'verbose_name_plural': 'Compras',
                'db_table': 'compras',
                'abstract': False,
                'managed': True,
            },
        ),
        migrations.CreateModel(
            name='DatosEmpresa',
            fields=[
                ('id_empresa', models.IntegerField(db_column='ID_Empresa', primary_key=True, serialize=False)),
                ('ruc', models.CharField(db_column='RUC', max_length=20)),
                ('razon_social', models.CharField(db_column='Razon_Social', max_length=255)),
                ('direccion', models.CharField(blank=True, db_column='Direccion', max_length=255, null=True)),
                ('ciudad', models.CharField(blank=True, db_column='Ciudad', max_length=100, null=True)),
                ('pais', models.CharField(blank=True, db_column='Pais', max_length=100, null=True)),
                ('telefono', models.CharField(blank=True, db_column='Telefono', max_length=20, null=True)),
                ('email', models.CharField(blank=True, db_column='Email', max_length=100, null=True)),
                ('activo', models.IntegerField(blank=True, db_column='Activo', null=True)),
            ],
            options={
                'verbose_name': 'Datos de la Empresa',
                'verbose_name_plural': 'Datos de la Empresa',
                'db_table': 'datos_empresa',
                'abstract': False,
                'managed': True,
            },
        ),
        migrations.CreateModel(
            name='DocumentosTributarios',
            fields=[
                ('id_documento', models.BigAutoField(db_column='ID_Documento', primary_key=True, serialize=False)),
                ('nro_secuencial', models.IntegerField(db_column='Nro_Secuencial')),
                ('fecha_emision', models.DateTimeField(db_column='Fecha_Emision')),
                ('monto_total', models.BigIntegerField(db_column='Monto_Total')),
                ('monto_exento', models.DecimalField(blank=True, db_column='Monto_Exento', decimal_places=2, max_digits=12, null=True)),
                ('monto_gravado_5', models.DecimalField(blank=True, db_column='Monto_Gravado_5', decimal_places=2, max_digits=12, null=True)),
                ('monto_iva_5', models.DecimalField(blank=True, db_column='Monto_IVA_5', decimal_places=2, max_digits=10, null=True)),
                ('monto_gravado_10', models.DecimalField(blank=True, db_column='Monto_Gravado_10', decimal_places=2, max_digits=12, null=True)),
                ('monto_iva_10', models.DecimalField(blank=True, db_column='Monto_IVA_10', decimal_places=2, max_digits=10, null=True)),
            ],
            options={
                'verbose_name': 'Documento Tributario',
                'verbose_name_plural': 'Documentos Tributarios',
                'db_table': 'documentos_tributarios',
                'abstract': False,
                'managed': True,
            },
        ),
        migrations.CreateModel(
            name='Empleado',
            fields=[
                ('id_empleado', models.AutoField(db_column='ID_Empleado', primary_key=True, serialize=False)),
                ('nombre', models.CharField(db_column='Nombre', max_length=100)),
                ('apellido', models.CharField(db_column='Apellido', max_length=100)),
                ('usuario', models.CharField(db_column='Usuario', max_length=50, unique=True)),
                ('contrasena_hash', models.CharField(db_column='Contrasena_Hash', max_length=60)),
                ('fecha_ingreso', models.DateTimeField(auto_now_add=True, db_column='Fecha_Ingreso')),
                ('direccion', models.CharField(blank=True, db_column='Direccion', max_length=255, null=True)),
                ('ciudad', models.CharField(blank=True, db_column='Ciudad', max_length=100, null=True)),
                ('pais', models.CharField(blank=True, db_column='Pais', max_length=100, null=True)),
                ('telefono', models.CharField(blank=True, db_column='Telefono', max_length=20, null=True)),
                ('email', models.EmailField(blank=True, db_column='Email', max_length=254, null=True)),
                ('activo', models.BooleanField(db_column='Activo', default=True)),
                ('fecha_baja', models.DateTimeField(blank=True, db_column='Fecha_Baja', null=True)),
            ],
            options={
                'verbose_name': 'Empleado',
                'verbose_name_plural': 'Empleados',
                'db_table': 'empleados',
                'abstract': False,
                'managed': True,
            },
        ),
        migrations.CreateModel(
            name='Grado',
            fields=[
                ('id_grado', models.AutoField(db_column='ID_Grado', primary_key=True, serialize=False)),
                ('nombre_grado', models.CharField(db_column='Nombre_Grado', max_length=50, unique=True)),
                ('nivel', models.IntegerField(db_column='Nivel')),
                ('orden_visualizacion', models.IntegerField(db_column='Orden_Visualizacion')),
                ('es_ultimo_grado', models.BooleanField(db_column='Es_Ultimo_Grado', default=False)),
                ('activo', models.BooleanField(db_column='Activo', default=True)),
                ('fecha_creacion', models.DateTimeField(auto_now_add=True, db_column='Fecha_Creacion')),
            ],
            options={
                'verbose_name': 'Grado',
                'verbose_name_plural': 'Grados',
                'db_table': 'grados',
                'ordering': ['orden_visualizacion'],
                'abstract': False,
                'managed': True,
            },
        ),
        migrations.CreateModel(
            name='Hijo',
            fields=[
                ('id_hijo', models.AutoField(db_column='ID_Hijo', primary_key=True, serialize=False)),
                ('nombre', models.CharField(db_column='Nombre', max_length=100)),
                ('apellido', models.CharField(db_column='Apellido', max_length=100)),
                ('fecha_nacimiento', models.DateField(blank=True, db_column='Fecha_Nacimiento', null=True)),
                ('grado', models.CharField(blank=True, db_column='Grado', max_length=50, null=True)),
                ('restricciones_compra', models.TextField(blank=True, db_column='Restricciones_Compra', null=True)),
                ('foto_perfil', models.CharField(blank=True, db_column='Foto_Perfil', max_length=255, null=True)),
                ('fecha_foto', models.DateTimeField(blank=True, db_column='Fecha_Foto', null=True)),
                ('activo', models.BooleanField(db_column='Activo', default=True)),
                ('id_cliente_responsable', models.ForeignKey(db_column='ID_Cliente_Responsable', on_delete=django.db.models.deletion.PROTECT, related_name='hijos', to='gestion.cliente')),
            ],
            options={
                'verbose_name': 'Hijo',
                'verbose_name_plural': 'Hijos',
                'db_table': 'hijos',
                'abstract': False,
                'managed': True,
            },
        ),
        migrations.CreateModel(
            name='Impuesto',
            fields=[
                ('id_impuesto', models.AutoField(db_column='ID_Impuesto', primary_key=True, serialize=False)),
                ('nombre_impuesto', models.CharField(db_column='Nombre_Impuesto', max_length=50, unique=True)),
                ('porcentaje', models.DecimalField(db_column='Porcentaje', decimal_places=2, max_digits=4)),
                ('vigente_desde', models.DateField(db_column='Vigente_Desde')),
                ('vigente_hasta', models.DateField(blank=True, db_column='Vigente_Hasta', null=True)),
                ('activo', models.BooleanField(db_column='Activo', default=True)),
            ],
            options={
                'verbose_name': 'Impuesto',
                'verbose_name_plural': 'Impuestos',
                'db_table': 'impuestos',
                'abstract': False,
                'managed': True,
            },
        ),
        migrations.CreateModel(
            name='Intento2Fa',
            fields=[
                ('id_intento', models.AutoField(db_column='ID_Intento', primary_key=True, serialize=False)),
                ('usuario', models.CharField(db_column='Usuario', max_length=100)),
                ('tipo_usuario', models.CharField(choices=[('ADMIN', 'Administrador'), ('CAJERO', 'Cajero'), ('CLIENTE_WEB', 'Cliente Web')], db_column='Tipo_Usuario', max_length=20)),
                ('ip_address', models.CharField(blank=True, db_column='IP_Address', max_length=45, null=True)),
                ('ciudad', models.CharField(blank=True, db_column='Ciudad', max_length=100, null=True)),
                ('pais', models.CharField(blank=True, db_column='Pais', max_length=100, null=True)),
                ('codigo_ingresado', models.CharField(blank=True, db_column='Codigo_Ingresado', max_length=10, null=True)),
                ('exitoso', models.BooleanField(db_column='Exitoso', default=False)),
                ('tipo_codigo', models.CharField(blank=True, choices=[('TOTP', 'TOTP'), ('BACKUP', 'C√≥digo de Respaldo')], db_column='Tipo_Codigo', max_length=10, null=True)),
                ('fecha_intento', models.DateTimeField(auto_now_add=True, db_column='Fecha_Intento')),
            ],
            options={
                'verbose_name': 'Intento 2FA',
                'verbose_name_plural': 'Intentos 2FA',
                'db_table': 'intentos_2fa',
                'ordering': ['-fecha_intento'],
                'abstract': False,
                'managed': True,
            },
        ),
        migrations.CreateModel(
            name='IntentoLogin',
            fields=[
                ('id_intento', models.AutoField(db_column='ID_Intento', primary_key=True, serialize=False)),
                ('usuario', models.CharField(db_column='Usuario', max_length=100)),
                ('ip_address', models.CharField(db_column='IP_Address', max_length=45)),
                ('ciudad', models.CharField(blank=True, db_column='Ciudad', max_length=100, null=True)),
                ('pais', models.CharField(blank=True, db_column='Pais', max_length=100, null=True)),
                ('fecha_intento', models.DateTimeField(db_column='Fecha_Intento')),
                ('exitoso', models.BooleanField(db_column='Exitoso', default=False)),
                ('motivo_fallo', models.CharField(blank=True, db_column='Motivo_Fallo', max_length=100, null=True)),
            ],
            options={
                'verbose_name': 'Intento de Login',
                'verbose_name_plural': 'Intentos de Login',
                'db_table': 'intentos_login',
                'ordering': ['-fecha_intento'],
                'abstract': False,
                'managed': True,
            },
        ),
        migrations.CreateModel(
            name='ListaPrecios',
            fields=[
                ('id_lista', models.AutoField(db_column='ID_Lista', primary_key=True, serialize=False)),
                ('nombre_lista', models.CharField(db_column='Nombre_Lista', max_length=100, unique=True)),
                ('fecha_vigencia', models.DateField(blank=True, db_column='Fecha_Vigencia', null=True)),
                ('moneda', models.CharField(db_column='Moneda', default='PYG', max_length=3)),
                ('activo', models.BooleanField(db_column='Activo', default=True)),
            ],
            options={
                'verbose_name': 'Lista de Precios',
                'verbose_name_plural': 'Listas de Precios',
                'db_table': 'listas_precios',
                'abstract': False,
                'managed': True,
            },
        ),
        migrations.CreateModel(
            name='MediosPago',
            fields=[
                ('id_medio_pago', models.AutoField(db_column='ID_Medio_Pago', primary_key=True, serialize=False)),
                ('descripcion', models.CharField(db_column='Descripcion', max_length=50, unique=True)),
                ('genera_comision', models.BooleanField(db_column='Genera_Comision', default=False)),
                ('requiere_validacion', models.BooleanField(db_column='Requiere_Validacion', default=False)),
                ('activo', models.BooleanField(db_column='Activo', default=True)),
            ],
            options={
                'verbose_name': 'Medio de Pago',
                'verbose_name_plural': 'Medios de Pago',
                'db_table': 'medios_pago',
                'abstract': False,
                'managed': True,
            },
        ),
        migrations.CreateModel(
            name='PatronAcceso',
            fields=[
                ('id_patron', models.AutoField(db_column='ID_Patron', primary_key=True, serialize=False)),
                ('usuario', models.CharField(db_column='Usuario', max_length=100)),
                ('tipo_usuario', models.CharField(choices=[('EMPLEADO', 'Empleado'), ('CLIENTE_WEB', 'Cliente Web'), ('ADMIN', 'Administrador')], db_column='Tipo_Usuario', max_length=20)),
                ('ip_address', models.CharField(db_column='IP_Address', max_length=45)),
                ('horario_inicio', models.TimeField(blank=True, db_column='Horario_Inicio', null=True)),
                ('horario_fin', models.TimeField(blank=True, db_column='Horario_Fin', null=True)),
                ('dias_semana', models.CharField(blank=True, db_column='Dias_Semana', max_length=50, null=True)),
                ('primera_deteccion', models.DateTimeField(db_column='Primera_Deteccion')),
                ('ultima_deteccion', models.DateTimeField(db_column='Ultima_Deteccion')),
                ('frecuencia_accesos', models.IntegerField(db_column='Frecuencia_Accesos', default=1)),
                ('es_habitual', models.BooleanField(db_column='Es_Habitual', default=False)),
            ],
            options={
                'verbose_name': 'Patr√≥n de Acceso',
                'verbose_name_plural': 'Patrones de Acceso',
                'db_table': 'patrones_acceso',
                'ordering': ['-ultima_deteccion'],
                'abstract': False,
                'managed': True,
            },
        ),
        migrations.CreateModel(
            name='PlanesAlmuerzo',
            fields=[
                ('id_plan_almuerzo', models.AutoField(db_column='ID_Plan_Almuerzo', primary_key=True, serialize=False)),
                ('nombre_plan', models.CharField(db_column='Nombre_Plan', max_length=100, unique=True)),
                ('descripcion', models.TextField(blank=True, db_column='Descripcion', null=True)),
                ('precio_mensual', models.DecimalField(db_column='Precio_Mensual', decimal_places=2, max_digits=10)),
                ('dias_semana_incluidos', models.CharField(db_column='Dias_Semana_Incluidos', max_length=60)),
                ('fecha_creacion', models.DateTimeField(blank=True, db_column='Fecha_Creacion', null=True)),
                ('activo', models.BooleanField(db_column='Activo', default=True)),
            ],
            options={
                'verbose_name': 'Plan de Almuerzo',
                'verbose_name_plural': 'Planes de Almuerzo',
                'db_table': 'planes_almuerzo',
                'abstract': False,
                'managed': True,
            },
        ),
        migrations.CreateModel(
            name='Promocion',
            fields=[
                ('id_promocion', models.AutoField(db_column='ID_Promocion', primary_key=True, serialize=False)),
                ('nombre', models.CharField(db_column='Nombre', max_length=200)),
                ('descripcion', models.TextField(blank=True, db_column='Descripcion', null=True)),
                ('tipo_promocion', models.CharField(choices=[('DESCUENTO_PORCENTAJE', 'Descuento Porcentaje'), ('DESCUENTO_MONTO', 'Descuento Monto Fijo'), ('PRECIO_FIJO', 'Precio Fijo'), ('NXM', 'N x M (ej: 2x1, 3x2)'), ('COMBO', 'Combo de Productos')], db_column='Tipo_Promocion', max_length=25)),
                ('valor_descuento', models.DecimalField(db_column='Valor_Descuento', decimal_places=2, help_text='Porcentaje (10.00 = 10%) o monto fijo (5000 = Gs. 5000)', max_digits=10)),
                ('fecha_inicio', models.DateField(db_column='Fecha_Inicio')),
                ('fecha_fin', models.DateField(blank=True, db_column='Fecha_Fin', null=True)),
                ('hora_inicio', models.TimeField(blank=True, db_column='Hora_Inicio', null=True)),
                ('hora_fin', models.TimeField(blank=True, db_column='Hora_Fin', null=True)),
                ('dias_semana', models.JSONField(blank=True, db_column='Dias_Semana', help_text='Array de d√≠as [1=Lun, 2=Mar, 3=Mie, 4=Jue, 5=Vie, 6=Sab, 7=Dom]', null=True)),
                ('aplica_a', models.CharField(choices=[('PRODUCTO', 'Producto Espec√≠fico'), ('CATEGORIA', 'Categor√≠a'), ('TOTAL_VENTA', 'Total de Venta'), ('ESTUDIANTE_GRADO', 'Grado de Estudiante')], db_column='Aplica_A', max_length=20)),
                ('min_cantidad', models.IntegerField(db_column='Min_Cantidad', default=1, help_text='Cantidad m√≠nima de productos para aplicar')),
                ('monto_minimo', models.DecimalField(db_column='Monto_Minimo', decimal_places=2, default=0, help_text='Monto m√≠nimo de compra para aplicar', max_digits=10)),
                ('max_usos_cliente', models.IntegerField(blank=True, db_column='Max_Usos_Cliente', help_text='M√°ximo de usos por cliente/estudiante', null=True)),
                ('max_usos_total', models.IntegerField(blank=True, db_column='Max_Usos_Total', help_text='M√°ximo de usos totales', null=True)),
                ('usos_actuales', models.IntegerField(db_column='Usos_Actuales', default=0)),
                ('requiere_codigo', models.BooleanField(db_column='Requiere_Codigo', default=False)),
                ('codigo_promocion', models.CharField(blank=True, db_column='Codigo_Promocion', max_length=50, null=True, unique=True)),
                ('prioridad', models.IntegerField(db_column='Prioridad', default=1, help_text='Orden de aplicaci√≥n (1=Mayor prioridad)')),
                ('activo', models.BooleanField(db_column='Activo', default=True)),
                ('fecha_creacion', models.DateTimeField(auto_now_add=True, db_column='Fecha_Creacion')),
                ('usuario_creacion', models.CharField(blank=True, db_column='Usuario_Creacion', max_length=100, null=True)),
            ],
            options={
                'verbose_name': 'Promoci√≥n',
                'verbose_name_plural': 'Promociones',
                'db_table': 'promociones',
                'ordering': ['prioridad', '-fecha_inicio'],
                'abstract': False,
                'managed': True,
            },
        ),
        migrations.CreateModel(
            name='Proveedor',
            fields=[
                ('id_proveedor', models.AutoField(db_column='ID_Proveedor', primary_key=True, serialize=False)),
                ('ruc', models.CharField(db_column='RUC', max_length=20, unique=True)),
                ('razon_social', models.CharField(db_column='Razon_Social', max_length=255)),
                ('telefono', models.CharField(blank=True, db_column='Telefono', max_length=20, null=True)),
                ('email', models.EmailField(blank=True, db_column='Email', max_length=254, null=True)),
                ('direccion', models.CharField(blank=True, db_column='Direccion', max_length=255, null=True)),
                ('ciudad', models.CharField(blank=True, db_column='Ciudad', max_length=100, null=True)),
                ('activo', models.BooleanField(db_column='Activo', default=True)),
                ('fecha_registro', models.DateTimeField(auto_now_add=True, db_column='Fecha_Registro')),
            ],
            options={
                'verbose_name': 'Proveedor',
                'verbose_name_plural': 'Proveedores',
                'db_table': 'proveedores',
                'abstract': False,
                'managed': True,
            },
        ),
        migrations.CreateModel(
            name='RenovacionSesion',
            fields=[
                ('id_renovacion', models.AutoField(db_column='ID_Renovacion', primary_key=True, serialize=False)),
                ('usuario', models.CharField(db_column='Usuario', max_length=100)),
                ('session_key_anterior', models.CharField(blank=True, db_column='Session_Key_Anterior', max_length=255, null=True)),
                ('session_key_nuevo', models.CharField(blank=True, db_column='Session_Key_Nuevo', max_length=255, null=True)),
                ('ip_address', models.CharField(blank=True, db_column='IP_Address', max_length=45, null=True)),
                ('user_agent', models.TextField(blank=True, db_column='User_Agent', null=True)),
                ('fecha_renovacion', models.DateTimeField(auto_now_add=True, db_column='Fecha_Renovacion')),
            ],
            options={
                'verbose_name': 'Renovaci√≥n de Sesi√≥n',
                'verbose_name_plural': 'Renovaciones de Sesi√≥n',
                'db_table': 'renovaciones_sesion',
                'ordering': ['-fecha_renovacion'],
                'abstract': False,
                'managed': True,
            },
        ),
        migrations.CreateModel(
            name='RestriccionHoraria',
            fields=[
                ('id_restriccion', models.AutoField(db_column='ID_Restriccion', primary_key=True, serialize=False)),
                ('usuario', models.CharField(blank=True, db_column='Usuario', help_text='Usuario espec√≠fico (NULL = aplica a tipo_usuario)', max_length=100, null=True)),
                ('tipo_usuario', models.CharField(choices=[('ADMIN', 'Administrador'), ('CAJERO', 'Cajero'), ('CLIENTE_WEB', 'Cliente Web')], db_column='Tipo_Usuario', max_length=20)),
                ('dia_semana', models.CharField(choices=[('LUNES', 'Lunes'), ('MARTES', 'Martes'), ('MIERCOLES', 'Mi√©rcoles'), ('JUEVES', 'Jueves'), ('VIERNES', 'Viernes'), ('SABADO', 'S√°bado'), ('DOMINGO', 'Domingo')], db_column='Dia_Semana', max_length=20)),
                ('hora_inicio', models.TimeField(db_column='Hora_Inicio', help_text='Hora de inicio permitida')),
                ('hora_fin', models.TimeField(db_column='Hora_F fin', help_text='Hora de fin permitida')),
                ('activo', models.BooleanField(db_column='Activo', default=True, help_text='Si la restricci√≥n est√° activa')),
                ('fecha_creacion', models.DateTimeField(auto_now_add=True, db_column='Fecha_Creacion')),
            ],
            options={
                'verbose_name': 'Restricci√≥n Horaria',
                'verbose_name_plural': 'Restricciones Horarias',
                'db_table': 'restricciones_horarias',
                'ordering': ['dia_semana', 'hora_inicio'],
                'abstract': False,
                'managed': True,
            },
        ),
        migrations.CreateModel(
            name='SesionActiva',
            fields=[
                ('id_sesion', models.AutoField(db_column='ID_Sesion', primary_key=True, serialize=False)),
                ('usuario', models.CharField(db_column='Usuario', max_length=100)),
                ('tipo_usuario', models.CharField(choices=[('EMPLEADO', 'Empleado'), ('CLIENTE_WEB', 'Cliente Web'), ('ADMIN', 'Administrador')], db_column='Tipo_Usuario', max_length=20)),
                ('session_key', models.CharField(db_column='Session_Key', max_length=255, unique=True)),
                ('ip_address', models.CharField(blank=True, db_column='IP_Address', max_length=45, null=True)),
                ('user_agent', models.TextField(blank=True, db_column='User_Agent', null=True)),
                ('fecha_inicio', models.DateTimeField(db_column='Fecha_Inicio')),
                ('ultima_actividad', models.DateTimeField(db_column='Ultima_Actividad')),
                ('activa', models.BooleanField(db_column='Activa', default=True)),
            ],
            options={
                'verbose_name': 'Sesi√≥n Activa',
                'verbose_name_plural': 'Sesiones Activas',
                'db_table': 'sesiones_activas',
                'ordering': ['-ultima_actividad'],
                'abstract': False,
                'managed': True,
            },
        ),
        migrations.CreateModel(
            name='TipoAlmuerzo',
            fields=[
                ('id_tipo_almuerzo', models.AutoField(db_column='ID_Tipo_Almuerzo', primary_key=True, serialize=False)),
                ('nombre', models.CharField(db_column='Nombre', max_length=100)),
                ('descripcion', models.TextField(blank=True, db_column='Descripcion', null=True)),
                ('precio_unitario', models.DecimalField(db_column='Precio_Unitario', decimal_places=2, max_digits=10)),
                ('incluye_plato_principal', models.BooleanField(db_column='Incluye_Plato_Principal', default=True)),
                ('incluye_postre', models.BooleanField(db_column='Incluye_Postre', default=False)),
                ('incluye_bebida', models.BooleanField(db_column='Incluye_Bebida', default=False)),
                ('fecha_creacion', models.DateTimeField(auto_now_add=True, db_column='Fecha_Creacion')),
                ('activo', models.BooleanField(db_column='Activo', default=True)),
            ],
            options={
                'verbose_name': 'Tipo de Almuerzo',
                'verbose_name_plural': 'Tipos de Almuerzo',
                'db_table': 'tipos_almuerzo',
                'abstract': False,
                'managed': True,
            },
        ),
        migrations.CreateModel(
            name='TipoCliente',
            fields=[
                ('id_tipo_cliente', models.AutoField(db_column='ID_Tipo_Cliente', primary_key=True, serialize=False)),
                ('nombre_tipo', models.CharField(db_column='Nombre_Tipo', max_length=50, unique=True)),
                ('descripcion', models.CharField(blank=True, db_column='Descripcion', max_length=100, null=True)),
                ('activo', models.BooleanField(db_column='Activo', default=True)),
            ],
            options={
                'verbose_name': 'Tipo de Cliente',
                'verbose_name_plural': 'Tipos de Cliente',
                'db_table': 'tipos_cliente',
                'abstract': False,
                'managed': True,
            },
        ),
        migrations.CreateModel(
            name='TipoRolGeneral',
            fields=[
                ('id_rol', models.AutoField(db_column='ID_Rol', primary_key=True, serialize=False)),
                ('nombre_rol', models.CharField(db_column='Nombre_Rol', max_length=50, unique=True)),
                ('descripcion', models.CharField(blank=True, db_column='Descripcion', max_length=100, null=True)),
                ('activo', models.BooleanField(db_column='Activo', default=True)),
            ],
            options={
                'verbose_name': 'Rol',
                'verbose_name_plural': 'Roles',
                'db_table': 'tipos_rol_general',
                'abstract': False,
                'managed': True,
            },
        ),
        migrations.CreateModel(
            name='TiposPago',
            fields=[
                ('id_tipo_pago', models.AutoField(db_column='ID_Tipo_Pago', primary_key=True, serialize=False)),
                ('descripcion', models.CharField(db_column='Descripcion', max_length=50, unique=True)),
                ('activo', models.BooleanField(db_column='Activo', default=True)),
            ],
            options={
                'verbose_name': 'Tipo de Pago',
                'verbose_name_plural': 'Tipos de Pago',
                'db_table': 'tipos_pago',
                'abstract': False,
                'managed': True,
            },
        ),
        migrations.CreateModel(
            name='UnidadMedida',
            fields=[
                ('id_unidad_medida', models.AutoField(db_column='ID_Unidad_de_Medida', primary_key=True, serialize=False)),
                ('nombre', models.CharField(db_column='Nombre', max_length=50)),
                ('abreviatura', models.CharField(db_column='Abreviatura', max_length=10)),
                ('activo', models.BooleanField(db_column='Activo', default=True)),
            ],
            options={
                'verbose_name': 'Unidad de Medida',
                'verbose_name_plural': 'Unidades de Medida',
                'db_table': 'unidades_medida',
                'abstract': False,
                'managed': True,
            },
        ),
        migrations.CreateModel(
            name='VistaAlmuerzosDiarios',
            fields=[
                ('id_registro_consumo', models.BigIntegerField(db_column='ID_Registro_Consumo', primary_key=True, serialize=False)),
                ('fecha_consumo', models.DateField(db_column='Fecha_Consumo')),
                ('hora_registro', models.TimeField(db_column='Hora_Registro')),
                ('id_hijo', models.IntegerField(db_column='ID_Hijo')),
                ('estudiante', models.CharField(db_column='Estudiante', max_length=202)),
                ('responsable_nombre', models.CharField(db_column='Responsable_Nombre', max_length=100)),
                ('responsable_apellido', models.CharField(db_column='Responsable_Apellido', max_length=100)),
                ('nro_tarjeta', models.CharField(blank=True, db_column='Nro_Tarjeta', max_length=20, null=True)),
                ('tipo_almuerzo', models.CharField(blank=True, db_column='Tipo_Almuerzo', max_length=100, null=True)),
                ('descripcion_almuerzo', models.TextField(blank=True, db_column='Descripcion_Almuerzo', null=True)),
                ('costo_almuerzo', models.DecimalField(blank=True, db_column='Costo_Almuerzo', decimal_places=2, max_digits=10, null=True)),
                ('marcado_en_cuenta', models.BooleanField(db_column='Marcado_En_Cuenta')),
                ('origen', models.CharField(db_column='Origen', max_length=11)),
                ('id_suscripcion', models.BigIntegerField(blank=True, db_column='ID_Suscripcion', null=True)),
            ],
            options={
                'verbose_name': 'Vista: Almuerzos Diarios',
                'verbose_name_plural': 'Vista: Almuerzos Diarios',
                'db_table': 'v_almuerzos_diarios',
                'abstract': False,
                'managed': True,
            },
        ),
        migrations.CreateModel(
            name='VistaCuentasAlmuerzoDetallado',
            fields=[
                ('id_cuenta', models.BigIntegerField(db_column='ID_Cuenta', primary_key=True, serialize=False)),
                ('id_hijo', models.IntegerField(db_column='ID_Hijo')),
                ('estudiante', models.CharField(db_column='Estudiante', max_length=202)),
                ('responsable_nombre', models.CharField(db_column='Responsable_Nombre', max_length=100)),
                ('responsable_apellido', models.CharField(db_column='Responsable_Apellido', max_length=100)),
                ('responsable_telefono', models.CharField(blank=True, db_column='Responsable_Telefono', max_length=20, null=True)),
                ('anio', models.IntegerField(db_column='Anio')),
                ('mes', models.SmallIntegerField(db_column='Mes')),
                ('cantidad_almuerzos', models.IntegerField(db_column='Cantidad_Almuerzos')),
                ('monto_total', models.DecimalField(db_column='Monto_Total', decimal_places=2, max_digits=10)),
                ('forma_cobro', models.CharField(db_column='Forma_Cobro', max_length=20)),
                ('monto_pagado', models.DecimalField(db_column='Monto_Pagado', decimal_places=2, max_digits=10)),
                ('saldo_pendiente', models.DecimalField(db_column='Saldo_Pendiente', decimal_places=2, max_digits=11)),
                ('estado', models.CharField(db_column='Estado', max_length=10)),
                ('fecha_generacion', models.DateField(db_column='Fecha_Generacion')),
                ('fecha_actualizacion', models.DateTimeField(db_column='Fecha_Actualizacion')),
                ('cantidad_pagos', models.BigIntegerField(db_column='Cantidad_Pagos')),
            ],
            options={
                'verbose_name': 'Vista: Cuentas de Almuerzo Detallado',
                'verbose_name_plural': 'Vista: Cuentas de Almuerzo Detallado',
                'db_table': 'v_cuentas_almuerzo_detallado',
                'abstract': False,
                'managed': True,
            },
        ),
        migrations.CreateModel(
            name='VistaNotasCreditoDetallado',
            fields=[
                ('id_nota', models.BigIntegerField(db_column='ID_Nota', primary_key=True, serialize=False)),
                ('fecha', models.DateTimeField(db_column='Fecha')),
                ('monto_total', models.DecimalField(db_column='Monto_Total', decimal_places=2, max_digits=12)),
                ('estado', models.CharField(db_column='Estado', max_length=20)),
                ('observacion', models.CharField(blank=True, db_column='Observacion', max_length=255, null=True)),
                ('cliente', models.CharField(db_column='Cliente', max_length=201)),
                ('venta_original', models.BigIntegerField(blank=True, db_column='Venta_Original', null=True)),
                ('fecha_venta_original', models.DateTimeField(blank=True, db_column='Fecha_Venta_Original', null=True)),
                ('monto_venta_original', models.DecimalField(blank=True, db_column='Monto_Venta_Original', decimal_places=2, max_digits=12, null=True)),
                ('cantidad_items', models.IntegerField(db_column='Cantidad_Items')),
                ('productos', models.TextField(blank=True, db_column='Productos', null=True)),
            ],
            options={
                'verbose_name': 'Vista: Notas de Cr√©dito Detallado',
                'verbose_name_plural': 'Vista: Notas de Cr√©dito Detallado',
                'db_table': 'v_notas_credito_detallado',
                'abstract': False,
                'managed': True,
            },
        ),
        migrations.CreateModel(
            name='VistaReporteMensualSeparado',
            fields=[
                ('id_hijo', models.IntegerField(db_column='ID_Hijo', primary_key=True, serialize=False)),
                ('estudiante', models.CharField(db_column='Estudiante', max_length=202)),
                ('nro_tarjeta', models.CharField(blank=True, db_column='Nro_Tarjeta', max_length=20, null=True)),
                ('saldo_tarjeta_actual', models.BigIntegerField(blank=True, db_column='Saldo_Tarjeta_Actual', null=True)),
                ('almuerzos_mes_actual', models.DecimalField(db_column='Almuerzos_Mes_Actual', decimal_places=0, max_digits=23)),
                ('total_almuerzos_mes', models.DecimalField(db_column='Total_Almuerzos_Mes', decimal_places=2, max_digits=32)),
                ('consumos_tarjeta_mes', models.DecimalField(db_column='Consumos_Tarjeta_Mes', decimal_places=2, max_digits=32)),
                ('cargas_tarjeta_mes', models.DecimalField(db_column='Cargas_Tarjeta_Mes', decimal_places=2, max_digits=32)),
            ],
            options={
                'verbose_name': 'Vista: Reporte Mensual Separado',
                'verbose_name_plural': 'Vista: Reportes Mensuales Separados',
                'db_table': 'v_reporte_mensual_separado',
                'abstract': False,
                'managed': True,
            },
        ),
        migrations.CreateModel(
            name='VistaResumenCajaDiario',
            fields=[
                ('fecha', models.DateField(db_column='Fecha', primary_key=True, serialize=False)),
                ('total_ventas', models.BigIntegerField(db_column='Total_Ventas')),
                ('monto_total_ventas', models.DecimalField(db_column='Monto_Total_Ventas', decimal_places=0, max_digits=32)),
                ('total_recargas', models.BigIntegerField(db_column='Total_Recargas')),
                ('monto_total_recargas', models.DecimalField(db_column='Monto_Total_Recargas', decimal_places=2, max_digits=32)),
                ('total_ingresos_dia', models.DecimalField(db_column='Total_Ingresos_Dia', decimal_places=2, max_digits=33)),
                ('total_transacciones_pago', models.BigIntegerField(db_column='Total_Transacciones_Pago')),
                ('total_efectivo', models.DecimalField(db_column='Total_Efectivo', decimal_places=0, max_digits=32)),
                ('total_tarjeta_debito', models.DecimalField(db_column='Total_Tarjeta_Debito', decimal_places=0, max_digits=32)),
                ('total_tarjeta_credito', models.DecimalField(db_column='Total_Tarjeta_Credito', decimal_places=0, max_digits=32)),
                ('total_transferencias', models.DecimalField(db_column='Total_Transferencias', decimal_places=0, max_digits=32)),
            ],
            options={
                'verbose_name': 'Vista: Resumen de Caja Diario',
                'verbose_name_plural': 'Vista: Resumen de Caja Diario',
                'db_table': 'v_resumen_caja_diario',
                'abstract': False,
                'managed': True,
            },
        ),
        migrations.CreateModel(
            name='VistaSaldoClientes',
            fields=[
                ('id_cliente', models.IntegerField(db_column='ID_Cliente', primary_key=True, serialize=False)),
                ('nombres', models.CharField(db_column='Nombres', max_length=100)),
                ('apellidos', models.CharField(db_column='Apellidos', max_length=100)),
                ('nombre_completo', models.CharField(db_column='nombre_completo', max_length=201)),
                ('ruc_ci', models.CharField(db_column='Ruc_CI', max_length=20)),
                ('tipo_cliente', models.CharField(db_column='tipo_cliente', max_length=50)),
                ('saldo_actual', models.DecimalField(db_column='saldo_actual', decimal_places=2, max_digits=30)),
                ('ultima_actualizacion', models.DateField(blank=True, db_column='ultima_actualizacion', null=True)),
                ('total_movimientos', models.BigIntegerField(db_column='total_movimientos')),
            ],
            options={
                'verbose_name': 'Saldo de Cliente',
                'verbose_name_plural': 'Saldos de Clientes',
                'db_table': 'v_saldo_clientes',
                'abstract': False,
                'managed': True,
            },
        ),
        migrations.CreateModel(
            name='VistaStockAlerta',
            fields=[
                ('id_producto', models.IntegerField(db_column='ID_Producto', primary_key=True, serialize=False)),
                ('codigo_barra', models.CharField(blank=True, db_column='Codigo_Barra', max_length=50, null=True)),
                ('descripcion', models.CharField(db_column='Descripcion', max_length=255)),
                ('categoria', models.CharField(db_column='Categoria', max_length=100)),
                ('stock_actual', models.DecimalField(db_column='Stock_Actual', decimal_places=3, max_digits=10)),
                ('stock_minimo', models.DecimalField(db_column='Stock_Minimo', decimal_places=3, max_digits=10)),
                ('diferencia', models.DecimalField(db_column='Diferencia', decimal_places=3, max_digits=11)),
                ('nivel_alerta', models.CharField(db_column='Nivel_Alerta', max_length=7)),
                ('fecha_ultima_actualizacion', models.DateTimeField(blank=True, db_column='Fecha_Ultima_Actualizacion', null=True)),
                ('unidad_medida', models.CharField(db_column='Unidad_Medida', max_length=50)),
            ],
            options={
                'verbose_name': 'Alerta de Stock',
                'verbose_name_plural': 'Alertas de Stock',
                'db_table': 'v_stock_alerta',
                'abstract': False,
                'managed': True,
            },
        ),
        migrations.CreateModel(
            name='VistaStockCriticoAlertas',
            fields=[
                ('id_producto', models.IntegerField(db_column='ID_Producto', primary_key=True, serialize=False)),
                ('codigo_barra', models.CharField(db_column='Codigo_Barra', max_length=50)),
                ('descripcion', models.CharField(db_column='Descripcion', max_length=255)),
                ('categoria', models.CharField(db_column='Categoria', max_length=100)),
                ('stock_actual', models.DecimalField(db_column='Stock_Actual', decimal_places=3, max_digits=10)),
                ('stock_minimo', models.DecimalField(db_column='Stock_Minimo', decimal_places=3, max_digits=10)),
            ],
            options={
                'verbose_name': 'Vista: Stock Cr√≠tico',
                'verbose_name_plural': 'Vista: Stock Cr√≠tico',
                'db_table': 'v_stock_critico_alertas',
                'abstract': False,
                'managed': True,
            },
        ),
        migrations.CreateModel(
            name='VistaVentasDiaDetallado',
            fields=[
                ('id_venta', models.BigIntegerField(db_column='ID_Venta', primary_key=True, serialize=False)),
                ('fecha', models.DateTimeField(db_column='Fecha')),
                ('monto_total', models.BigIntegerField(db_column='Monto_Total')),
                ('nombres', models.CharField(db_column='Nombres', max_length=100)),
                ('apellidos', models.CharField(db_column='Apellidos', max_length=100)),
                ('cliente_completo', models.CharField(db_column='Cliente_Completo', max_length=201)),
                ('empleado', models.CharField(db_column='Empleado', max_length=100)),
                ('nro_timbrado', models.IntegerField(db_column='Nro_Timbrado')),
                ('nro_secuencial', models.IntegerField(db_column='Nro_Secuencial')),
                ('cantidad_items', models.BigIntegerField(db_column='Cantidad_Items')),
                ('productos', models.TextField(db_column='Productos')),
                ('total_pagado', models.DecimalField(db_column='Total_Pagado', decimal_places=0, max_digits=32)),
                ('saldo_pendiente', models.DecimalField(db_column='Saldo_Pendiente', decimal_places=0, max_digits=33)),
            ],
            options={
                'verbose_name': 'Vista: Ventas del D√≠a Detallado',
                'verbose_name_plural': 'Vista: Ventas del D√≠a Detallado',
                'db_table': 'v_ventas_dia_detallado',
                'abstract': False,
                'managed': True,
            },
        ),
        migrations.CreateModel(
            name='Autenticacion2Fa',
            fields=[
                ('id_2fa', models.AutoField(db_column='ID_2FA', primary_key=True, serialize=False)),
                ('usuario', models.CharField(db_column='Usuario', max_length=100)),
                ('tipo_usuario', models.CharField(choices=[('ADMIN', 'Administrador'), ('CAJERO', 'Cajero'), ('CLIENTE_WEB', 'Cliente Web')], db_column='Tipo_Usuario', max_length=20)),
                ('secret_key', models.CharField(db_column='Secret_Key', help_text='Clave secreta TOTP codificada en Base32', max_length=32)),
                ('backup_codes', models.TextField(blank=True, db_column='Backup_Codes', help_text='C√≥digos de respaldo JSON (array de strings hasheados)', null=True)),
                ('habilitado', models.BooleanField(db_column='Habilitado', default=False, help_text='Si el usuario tiene 2FA activo')),
                ('fecha_activacion', models.DateTimeField(blank=True, db_column='Fecha_Activacion', help_text='Cuando se activ√≥ por primera vez', null=True)),
                ('ultima_verificacion', models.DateTimeField(blank=True, db_column='Ultima_Verificacion', help_text='√öltimo uso exitoso del c√≥digo', null=True)),
                ('fecha_creacion', models.DateTimeField(auto_now_add=True, db_column='Fecha_Creacion')),
            ],
            options={
                'verbose_name': 'Autenticaci√≥n 2FA',
                'verbose_name_plural': 'Autenticaciones 2FA',
                'db_table': 'autenticacion_2fa',
                'ordering': ['-fecha_creacion'],
                'abstract': False,
                'managed': True,
                'unique_together': {('usuario', 'tipo_usuario')},
            },
        ),
        migrations.CreateModel(
            name='Categoria',
            fields=[
                ('id_categoria', models.AutoField(db_column='ID_Categoria', primary_key=True, serialize=False)),
                ('nombre', models.CharField(db_column='Nombre', max_length=100)),
                ('activo', models.BooleanField(db_column='Activo', default=True)),
                ('id_categoria_padre', models.ForeignKey(blank=True, db_column='ID_Categoria_Padre', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='subcategorias', to='gestion.categoria')),
            ],
            options={
                'verbose_name': 'Categor√≠a',
                'verbose_name_plural': 'Categor√≠as',
                'db_table': 'categorias',
                'abstract': False,
                'managed': True,
            },
        ),
        migrations.CreateModel(
            name='UsuariosWebClientes',
            fields=[
                ('id_cliente', models.OneToOneField(db_column='ID_Cliente', on_delete=django.db.models.deletion.CASCADE, primary_key=True, related_name='usuario_web', serialize=False, to='gestion.cliente')),
                ('usuario', models.CharField(db_column='Usuario', max_length=50, unique=True)),
                ('contrasena_hash', models.CharField(db_column='Contrasena_Hash', max_length=128)),
                ('ultimo_acceso', models.DateTimeField(blank=True, db_column='Ultimo_Acceso', null=True)),
                ('activo', models.BooleanField(db_column='Activo', default=True)),
            ],
            options={
                'verbose_name': 'Usuario Web Cliente',
                'verbose_name_plural': 'Usuarios Web Clientes',
                'db_table': 'usuarios_web_clientes',
                'abstract': False,
                'managed': True,
            },
        ),
        migrations.CreateModel(
            name='AuditoriaUsuariosWeb',
            fields=[
                ('id_auditoria', models.BigAutoField(db_column='ID_Auditoria', primary_key=True, serialize=False)),
                ('fecha_cambio', models.DateTimeField(db_column='Fecha_Cambio')),
                ('campo_modificado', models.CharField(db_column='Campo_Modificado', max_length=50)),
                ('valor_anterior', models.TextField(blank=True, db_column='Valor_Anterior', null=True)),
                ('valor_nuevo', models.TextField(blank=True, db_column='Valor_Nuevo', null=True)),
                ('ip_origen', models.CharField(blank=True, db_column='IP_Origen', max_length=45, null=True)),
                ('id_cliente', models.ForeignKey(blank=True, db_column='ID_Cliente', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='auditorias_web', to='gestion.cliente')),
            ],
            options={
                'verbose_name': 'Auditor√≠a de Usuario Web',
                'verbose_name_plural': 'Auditor√≠as de Usuarios Web',
                'db_table': 'auditoria_usuarios_web',
                'abstract': False,
                'managed': True,
            },
        ),
        migrations.CreateModel(
            name='DatosFacturacionElect',
            fields=[
                ('id_documento', models.OneToOneField(db_column='ID_Documento', on_delete=django.db.models.deletion.CASCADE, primary_key=True, serialize=False, to='gestion.documentostributarios')),
                ('cdc', models.CharField(db_column='CDC', max_length=44, unique=True)),
                ('url_kude', models.CharField(blank=True, db_column='URL_KuDE', max_length=255, null=True)),
                ('xml_transmitido', models.TextField(blank=True, db_column='XML_Transmitido', null=True)),
                ('estado_sifen', models.CharField(blank=True, db_column='Estado_SIFEN', max_length=9, null=True)),
                ('fecha_envio', models.DateTimeField(blank=True, db_column='Fecha_Envio', null=True)),
                ('fecha_respuesta', models.DateTimeField(blank=True, db_column='Fecha_Respuesta', null=True)),
            ],
            options={
                'verbose_name': 'Datos Facturaci√≥n Electr√≥nica',
                'verbose_name_plural': 'Datos Facturaci√≥n Electr√≥nica',
                'db_table': 'datos_facturacion_elect',
                'abstract': False,
                'managed': True,
            },
        ),
        migrations.CreateModel(
            name='DatosFacturacionFisica',
            fields=[
                ('id_documento', models.OneToOneField(db_column='ID_Documento', on_delete=django.db.models.deletion.CASCADE, primary_key=True, serialize=False, to='gestion.documentostributarios')),
                ('nro_preimpreso_interno', models.CharField(db_column='Nro_Preimpreso_Interno', max_length=20, unique=True)),
            ],
            options={
                'verbose_name': 'Datos Facturaci√≥n F√≠sica',
                'verbose_name_plural': 'Datos Facturaci√≥n F√≠sica',
                'db_table': 'datos_facturacion_fisica',
                'abstract': False,
                'managed': True,
            },
        ),
        migrations.CreateModel(
            name='CierresCaja',
            fields=[
                ('id_cierre', models.BigAutoField(db_column='ID_Cierre', primary_key=True, serialize=False)),
                ('fecha_hora_apertura', models.DateTimeField(db_column='Fecha_Hora_Apertura')),
                ('fecha_hora_cierre', models.DateTimeField(blank=True, db_column='Fecha_Hora_Cierre', null=True)),
                ('monto_inicial', models.DecimalField(blank=True, db_column='Monto_Inicial', decimal_places=2, max_digits=10, null=True)),
                ('monto_contado_fisico', models.DecimalField(blank=True, db_column='Monto_Contado_Fisico', decimal_places=2, max_digits=10, null=True)),
                ('diferencia_efectivo', models.DecimalField(blank=True, db_column='Diferencia_Efectivo', decimal_places=2, max_digits=10, null=True)),
                ('estado', models.CharField(blank=True, db_column='Estado', max_length=7, null=True)),
                ('id_caja', models.ForeignKey(db_column='ID_Caja', on_delete=django.db.models.deletion.PROTECT, to='gestion.cajas')),
                ('id_empleado', models.ForeignKey(db_column='ID_Empleado', on_delete=django.db.models.deletion.PROTECT, to='gestion.empleado')),
            ],
            options={
                'verbose_name': 'Cierre de Caja',
                'verbose_name_plural': 'Cierres de Caja',
                'db_table': 'cierres_caja',
                'abstract': False,
                'managed': True,
            },
        ),
        migrations.CreateModel(
            name='AuditoriaEmpleados',
            fields=[
                ('id_auditoria', models.BigAutoField(db_column='ID_Auditoria', primary_key=True, serialize=False)),
                ('fecha_cambio', models.DateTimeField(db_column='Fecha_Cambio')),
                ('campo_modificado', models.CharField(db_column='Campo_Modificado', max_length=50)),
                ('valor_anterior', models.TextField(blank=True, db_column='Valor_Anterior', null=True)),
                ('valor_nuevo', models.TextField(blank=True, db_column='Valor_Nuevo', null=True)),
                ('ip_origen', models.CharField(blank=True, db_column='IP_Origen', max_length=45, null=True)),
                ('id_empleado', models.ForeignKey(blank=True, db_column='ID_Empleado', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='auditorias', to='gestion.empleado')),
            ],
            options={
                'verbose_name': 'Auditor√≠a de Empleado',
                'verbose_name_plural': 'Auditor√≠as de Empleados',
                'db_table': 'auditoria_empleados',
                'abstract': False,
                'managed': True,
            },
        ),
        migrations.CreateModel(
            name='AjustesInventario',
            fields=[
                ('id_ajuste', models.BigAutoField(db_column='ID_Ajuste', primary_key=True, serialize=False)),
                ('fecha_hora', models.DateTimeField(db_column='Fecha_Hora')),
                ('tipo_ajuste', models.CharField(choices=[('Reconteo', 'Reconteo'), ('Merma', 'Merma'), ('Robo', 'Robo'), ('Da√±o', 'Da√±o'), ('Otro', 'Otro')], db_column='Tipo_Ajuste', max_length=8)),
                ('motivo', models.CharField(db_column='Motivo', max_length=255)),
                ('estado', models.CharField(choices=[('Pendiente', 'Pendiente'), ('Aprobado', 'Aprobado'), ('Rechazado', 'Rechazado')], db_column='Estado', max_length=10)),
                ('id_empleado_responsable', models.ForeignKey(db_column='ID_Empleado_Responsable', on_delete=django.db.models.deletion.PROTECT, to='gestion.empleado')),
            ],
            options={
                'verbose_name': 'Ajuste de Inventario',
                'verbose_name_plural': 'Ajustes de Inventario',
                'db_table': 'ajustes_inventario',
                'abstract': False,
                'managed': True,
            },
        ),
        migrations.CreateModel(
            name='VistaConsumosEstudiante',
            fields=[
                ('id_hijo', models.OneToOneField(db_column='ID_Hijo', on_delete=django.db.models.deletion.DO_NOTHING, primary_key=True, related_name='consumos_vista', serialize=False, to='gestion.hijo')),
                ('estudiante', models.CharField(db_column='Estudiante', max_length=202)),
                ('responsable_nombre', models.CharField(db_column='Responsable_Nombre', max_length=100)),
                ('responsable_apellido', models.CharField(db_column='Responsable_Apellido', max_length=100)),
                ('nro_tarjeta', models.CharField(db_column='Nro_Tarjeta', max_length=20)),
                ('saldo_actual', models.BigIntegerField(db_column='Saldo_Actual')),
                ('total_consumos', models.BigIntegerField(db_column='Total_Consumos')),
                ('total_consumido', models.DecimalField(db_column='Total_Consumido', decimal_places=2, max_digits=32)),
                ('ultimo_consumo', models.DateTimeField(db_column='Ultimo_Consumo')),
                ('total_recargas', models.BigIntegerField(db_column='Total_Recargas')),
                ('total_recargado', models.DecimalField(db_column='Total_Recargado', decimal_places=2, max_digits=32)),
            ],
            options={
                'verbose_name': 'Vista: Consumos por Hijo',
                'verbose_name_plural': 'Vista: Consumos por Hijo',
                'db_table': 'v_consumos_estudiante',
                'abstract': False,
                'managed': True,
            },
        ),
        migrations.CreateModel(
            name='CuentaAlmuerzoMensual',
            fields=[
                ('id_cuenta', models.BigAutoField(db_column='ID_Cuenta', primary_key=True, serialize=False)),
                ('anio', models.IntegerField(db_column='Anio')),
                ('mes', models.SmallIntegerField(db_column='Mes')),
                ('cantidad_almuerzos', models.IntegerField(db_column='Cantidad_Almuerzos', default=0)),
                ('monto_total', models.DecimalField(db_column='Monto_Total', decimal_places=2, default=0, max_digits=10)),
                ('forma_cobro', models.CharField(choices=[('CONTADO_ANTICIPADO', 'Contado Anticipado'), ('CREDITO_MENSUAL', 'Cr√©dito Mensual')], db_column='Forma_Cobro', max_length=20)),
                ('monto_pagado', models.DecimalField(db_column='Monto_Pagado', decimal_places=2, default=0, max_digits=10)),
                ('estado', models.CharField(choices=[('PENDIENTE', 'Pendiente'), ('PARCIAL', 'Parcial'), ('PAGADO', 'Pagado')], db_column='Estado', default='PENDIENTE', max_length=10)),
                ('fecha_generacion', models.DateField(db_column='Fecha_Generacion')),
                ('fecha_actualizacion', models.DateTimeField(auto_now=True, db_column='Fecha_Actualizacion')),
                ('observaciones', models.TextField(blank=True, db_column='Observaciones', null=True)),
                ('id_hijo', models.ForeignKey(db_column='ID_Hijo', on_delete=django.db.models.deletion.PROTECT, to='gestion.hijo')),
            ],
            options={
                'verbose_name': 'Cuenta Mensual de Almuerzo',
                'verbose_name_plural': 'Cuentas Mensuales de Almuerzo',
                'db_table': 'cuentas_almuerzo_mensual',
                'ordering': ['-anio', '-mes'],
                'abstract': False,
                'managed': True,
                'unique_together': {('id_hijo', 'anio', 'mes')},
            },
        ),
        migrations.CreateModel(
            name='HistorialGradoHijo',
            fields=[
                ('id_historial', models.AutoField(db_column='ID_Historial', primary_key=True, serialize=False)),
                ('grado_anterior', models.CharField(blank=True, db_column='Grado_Anterior', max_length=50, null=True)),
                ('grado_nuevo', models.CharField(db_column='Grado_Nuevo', max_length=50)),
                ('anio_escolar', models.IntegerField(db_column='Anio_Escolar')),
                ('fecha_cambio', models.DateTimeField(auto_now_add=True, db_column='Fecha_Cambio')),
                ('motivo', models.CharField(choices=[('INGRESO', 'Ingreso'), ('PROMOCION', 'Promoci√≥n'), ('CAMBIO_MANUAL', 'Cambio Manual'), ('REINGRESO', 'Reingreso')], db_column='Motivo', default='PROMOCION', max_length=20)),
                ('usuario_registro', models.CharField(blank=True, db_column='Usuario_Registro', max_length=100, null=True)),
                ('observaciones', models.TextField(blank=True, db_column='Observaciones', null=True)),
                ('id_hijo', models.ForeignKey(db_column='ID_Hijo', on_delete=django.db.models.deletion.CASCADE, related_name='historial_grados', to='gestion.hijo')),
            ],
            options={
                'verbose_name': 'Historial de Grado',
                'verbose_name_plural': 'Historial de Grados',
                'db_table': 'historial_grados_hijos',
                'ordering': ['-fecha_cambio'],
                'abstract': False,
                'managed': True,
            },
        ),
        migrations.AddField(
            model_name='cliente',
            name='id_lista',
            field=models.ForeignKey(db_column='ID_Lista', on_delete=django.db.models.deletion.PROTECT, to='gestion.listaprecios'),
        ),
        migrations.CreateModel(
            name='NotasCreditoCliente',
            fields=[
                ('id_nota', models.BigAutoField(db_column='ID_Nota', primary_key=True, serialize=False)),
                ('nro_factura_venta', models.BigIntegerField(db_column='Nro_Factura_Venta')),
                ('fecha', models.DateTimeField(db_column='Fecha')),
                ('monto_total', models.DecimalField(db_column='Monto_Total', decimal_places=2, max_digits=12)),
                ('observacion', models.CharField(blank=True, db_column='Observacion', max_length=255, null=True)),
                ('estado', models.CharField(blank=True, choices=[('Emitida', 'Emitida'), ('Aplicada', 'Aplicada'), ('Anulada', 'Anulada')], db_column='Estado', max_length=8, null=True)),
                ('id_cliente', models.ForeignKey(db_column='ID_Cliente', on_delete=django.db.models.deletion.PROTECT, related_name='notas_credito', to='gestion.cliente')),
            ],
            options={
                'verbose_name': 'Nota de Cr√©dito Cliente',
                'verbose_name_plural': 'Notas de Cr√©dito Cliente',
                'db_table': 'notas_credito_cliente',
                'abstract': False,
                'managed': True,
            },
        ),
        migrations.CreateModel(
            name='NotasCreditoProveedor',
            fields=[
                ('id_nota_proveedor', models.BigAutoField(db_column='ID_Nota_Proveedor', primary_key=True, serialize=False)),
                ('nro_factura_compra', models.BigIntegerField(blank=True, db_column='Nro_Factura_Compra', null=True)),
                ('fecha', models.DateTimeField(db_column='Fecha')),
                ('monto_total', models.DecimalField(db_column='Monto_Total', decimal_places=2, max_digits=12)),
                ('observacion', models.CharField(blank=True, db_column='Observacion', max_length=255, null=True)),
                ('estado', models.CharField(choices=[('EMITIDA', 'Emitida'), ('APLICADA', 'Aplicada'), ('ANULADA', 'Anulada')], db_column='Estado', default='EMITIDA', max_length=10)),
                ('fecha_creacion', models.DateTimeField(auto_now_add=True, db_column='Fecha_Creacion')),
                ('id_compra_original', models.ForeignKey(blank=True, db_column='ID_Compra_Original', null=True, on_delete=django.db.models.deletion.SET_NULL, to='gestion.compras')),
                ('id_proveedor', models.ForeignKey(db_column='ID_Proveedor', on_delete=django.db.models.deletion.PROTECT, related_name='notas_credito', to='gestion.proveedor')),
            ],
            options={
                'verbose_name': 'Nota de Cr√©dito Proveedor',
                'verbose_name_plural': 'Notas de Cr√©dito Proveedores',
                'db_table': 'notas_credito_proveedor',
                'abstract': False,
                'managed': True,
            },
        ),
        migrations.CreateModel(
            name='PagoCuentaAlmuerzo',
            fields=[
                ('id_pago', models.BigAutoField(db_column='ID_Pago', primary_key=True, serialize=False)),
                ('fecha_pago', models.DateTimeField(auto_now_add=True, db_column='Fecha_Pago')),
                ('medio_pago', models.CharField(choices=[('EFECTIVO', 'Efectivo'), ('DEBITO', 'D√©bito'), ('CREDITO', 'Cr√©dito'), ('TRANSFERENCIA', 'Transferencia'), ('OTRO', 'Otro')], db_column='Medio_Pago', max_length=15)),
                ('monto', models.DecimalField(db_column='Monto', decimal_places=2, max_digits=10)),
                ('referencia', models.CharField(blank=True, db_column='Referencia', max_length=50, null=True)),
                ('observaciones', models.TextField(blank=True, db_column='Observaciones', null=True)),
                ('id_cuenta', models.ForeignKey(db_column='ID_Cuenta', on_delete=django.db.models.deletion.PROTECT, related_name='pagos', to='gestion.cuentaalmuerzomensual')),
                ('id_empleado_registro', models.ForeignKey(blank=True, db_column='ID_Empleado_Registro', null=True, on_delete=django.db.models.deletion.SET_NULL, to='gestion.empleado')),
            ],
            options={
                'verbose_name': 'Pago de Cuenta de Almuerzo',
                'verbose_name_plural': 'Pagos de Cuentas de Almuerzo',
                'db_table': 'pagos_cuentas_almuerzo',
                'ordering': ['-fecha_pago'],
                'abstract': False,
                'managed': True,
            },
        ),
        migrations.CreateModel(
            name='PagosProveedores',
            fields=[
                ('id_pago_proveedor', models.BigAutoField(db_column='ID_Pago_Proveedor', primary_key=True, serialize=False)),
                ('monto_aplicado', models.DecimalField(db_column='Monto_Aplicado', decimal_places=2, max_digits=12)),
                ('fecha_pago', models.DateTimeField(db_column='Fecha_Pago')),
                ('referencia_transaccion', models.CharField(blank=True, db_column='Referencia_Transaccion', max_length=100, null=True)),
                ('estado', models.CharField(choices=[('PROCESADO', 'Procesado'), ('ANULADO', 'Anulado')], db_column='Estado', default='PROCESADO', max_length=10)),
                ('observaciones', models.TextField(blank=True, db_column='Observaciones', null=True)),
                ('fecha_creacion', models.DateTimeField(auto_now_add=True, db_column='Fecha_Creacion')),
                ('id_compra', models.ForeignKey(db_column='ID_Compra', on_delete=django.db.models.deletion.PROTECT, related_name='pagos', to='gestion.compras')),
                ('id_medio_pago', models.ForeignKey(db_column='ID_Medio_Pago', on_delete=django.db.models.deletion.PROTECT, to='gestion.mediospago')),
            ],
            options={
                'verbose_name': 'Pago a Proveedor',
                'verbose_name_plural': 'Pagos a Proveedores',
                'db_table': 'pagos_proveedores',
                'abstract': False,
                'managed': True,
            },
        ),
        migrations.CreateModel(
            name='AplicacionPagosCompras',
            fields=[
                ('id_aplicacion', models.BigAutoField(db_column='ID_Aplicacion', primary_key=True, serialize=False)),
                ('monto_aplicado', models.DecimalField(db_column='Monto_Aplicado', decimal_places=2, max_digits=12)),
                ('id_compra', models.ForeignKey(db_column='ID_Compra', on_delete=django.db.models.deletion.CASCADE, to='gestion.compras')),
                ('id_pago_proveedor', models.ForeignKey(db_column='ID_Pago_Proveedor', on_delete=django.db.models.deletion.CASCADE, to='gestion.pagosproveedores')),
            ],
            options={
                'verbose_name': 'Aplicaci√≥n de Pago a Compra',
                'verbose_name_plural': 'Aplicaciones de Pagos a Compras',
                'db_table': 'aplicacion_pagos_compras',
                'abstract': False,
                'managed': True,
            },
        ),
        migrations.CreateModel(
            name='PagosVenta',
            fields=[
                ('id_pago_venta', models.BigAutoField(db_column='ID_Pago_Venta', primary_key=True, serialize=False)),
                ('monto_aplicado', models.BigIntegerField(db_column='Monto_Aplicado')),
                ('referencia_transaccion', models.CharField(blank=True, db_column='Referencia_Transaccion', max_length=100, null=True)),
                ('fecha_pago', models.DateTimeField(blank=True, db_column='Fecha_Pago', null=True)),
                ('estado', models.CharField(choices=[('PROCESADO', 'Procesado'), ('ANULADO', 'Anulado')], db_column='Estado', default='PROCESADO', max_length=10)),
                ('id_cierre', models.ForeignKey(blank=True, db_column='ID_Cierre', null=True, on_delete=django.db.models.deletion.PROTECT, to='gestion.cierrescaja')),
                ('id_medio_pago', models.ForeignKey(db_column='ID_Medio_Pago', on_delete=django.db.models.deletion.PROTECT, to='gestion.mediospago')),
            ],
            options={
                'verbose_name': 'Pago de Venta',
                'verbose_name_plural': 'Pagos de Venta',
                'db_table': 'pagos_venta',
                'abstract': False,
                'managed': True,
            },
        ),
        migrations.CreateModel(
            name='ConciliacionPagos',
            fields=[
                ('id_conciliacion', models.BigAutoField(db_column='ID_Conciliacion', primary_key=True, serialize=False)),
                ('fecha_acreditacion', models.DateTimeField(blank=True, db_column='Fecha_Acreditacion', null=True)),
                ('fecha_conciliacion', models.DateTimeField(db_column='Fecha_Conciliacion')),
                ('estado', models.CharField(choices=[('PENDIENTE', 'Pendiente'), ('ACREDITADO', 'Acreditado'), ('RECHAZADO', 'Rechazado'), ('CONCILIADO', 'Conciliado')], db_column='Estado', default='PENDIENTE', max_length=20)),
                ('monto_acreditado', models.DecimalField(blank=True, db_column='Monto_Acreditado', decimal_places=2, max_digits=12, null=True)),
                ('observaciones', models.TextField(blank=True, db_column='Observaciones', null=True)),
                ('fecha_creacion', models.DateTimeField(auto_now_add=True, db_column='Fecha_Creacion')),
                ('fecha_actualizacion', models.DateTimeField(auto_now=True, db_column='Fecha_Actualizacion')),
                ('id_pago_venta', models.OneToOneField(db_column='ID_Pago_Venta', on_delete=django.db.models.deletion.CASCADE, to='gestion.pagosventa')),
            ],
            options={
                'verbose_name': 'Conciliaci√≥n de Pago',
                'verbose_name_plural': 'Conciliaciones de Pagos',
                'db_table': 'conciliacion_pagos',
                'ordering': ['-fecha_conciliacion'],
                'abstract': False,
                'managed': True,
            },
        ),
        migrations.CreateModel(
            name='Producto',
            fields=[
                ('id_producto', models.AutoField(db_column='ID_Producto', primary_key=True, serialize=False)),
                ('codigo_barra', models.CharField(blank=True, db_column='Codigo_Barra', max_length=50, null=True, unique=True)),
                ('descripcion', models.CharField(db_column='Descripcion', max_length=255)),
                ('stock_minimo', models.DecimalField(db_column='Stock_Minimo', decimal_places=3, default=0, max_digits=10)),
                ('permite_stock_negativo', models.BooleanField(db_column='Permite_Stock_Negativo', default=False)),
                ('activo', models.BooleanField(db_column='Activo', default=True)),
                ('id_categoria', models.ForeignKey(db_column='ID_Categoria', on_delete=django.db.models.deletion.PROTECT, related_name='productos', to='gestion.categoria')),
                ('id_impuesto', models.ForeignKey(db_column='ID_Impuesto', on_delete=django.db.models.deletion.PROTECT, to='gestion.impuesto')),
                ('id_unidad_medida', models.ForeignKey(blank=True, db_column='ID_Unidad_de_Medida', null=True, on_delete=django.db.models.deletion.SET_NULL, to='gestion.unidadmedida')),
            ],
            options={
                'verbose_name': 'Producto',
                'verbose_name_plural': 'Productos',
                'db_table': 'productos',
                'abstract': False,
                'managed': True,
            },
        ),
        migrations.CreateModel(
            name='HistoricoPrecios',
            fields=[
                ('id_historico_precio', models.BigAutoField(db_column='ID_Historico_Precio', primary_key=True, serialize=False)),
                ('precio_venta_anterior', models.DecimalField(db_column='Precio_Venta_Anterior', decimal_places=2, max_digits=12)),
                ('precio_venta_nuevo', models.DecimalField(db_column='Precio_Venta_Nuevo', decimal_places=2, max_digits=12)),
                ('fecha_cambio', models.DateTimeField(db_column='Fecha_Cambio')),
                ('motivo', models.CharField(blank=True, db_column='Motivo', max_length=255, null=True)),
                ('id_empleado_autoriza', models.ForeignKey(blank=True, db_column='ID_Empleado_Autoriza', null=True, on_delete=django.db.models.deletion.PROTECT, to='gestion.empleado')),
                ('id_producto', models.ForeignKey(db_column='ID_Producto', on_delete=django.db.models.deletion.CASCADE, related_name='historico_precios', to='gestion.producto')),
            ],
            options={
                'verbose_name': 'Hist√≥rico de Precios',
                'verbose_name_plural': 'Hist√≥ricos de Precios',
                'db_table': 'historico_precios',
                'abstract': False,
                'managed': True,
            },
        ),
        migrations.CreateModel(
            name='DetalleNotaCreditoProveedor',
            fields=[
                ('id_detalle_nc_proveedor', models.BigAutoField(db_column='ID_Detalle_NC_Proveedor', primary_key=True, serialize=False)),
                ('cantidad', models.DecimalField(db_column='Cantidad', decimal_places=3, max_digits=10)),
                ('precio_unitario', models.DecimalField(db_column='Precio_Unitario', decimal_places=2, max_digits=12)),
                ('subtotal', models.DecimalField(db_column='Subtotal', decimal_places=2, max_digits=12)),
                ('id_nota_proveedor', models.ForeignKey(db_column='ID_Nota_Proveedor', on_delete=django.db.models.deletion.CASCADE, related_name='detalles', to='gestion.notascreditoproveedor')),
                ('id_producto', models.ForeignKey(db_column='ID_Producto', on_delete=django.db.models.deletion.PROTECT, to='gestion.producto')),
            ],
            options={
                'verbose_name': 'Detalle NC Proveedor',
                'verbose_name_plural': 'Detalles NC Proveedores',
                'db_table': 'detalle_nota_credito_proveedor',
                'abstract': False,
                'managed': True,
            },
        ),
        migrations.CreateModel(
            name='CostosHistoricos',
            fields=[
                ('id_costo_historico', models.BigAutoField(db_column='ID_Costo_Historico', primary_key=True, serialize=False)),
                ('costo_unitario_neto', models.DecimalField(db_column='Costo_Unitario_Neto', decimal_places=2, max_digits=10)),
                ('fecha_compra', models.DateTimeField(db_column='Fecha_Compra')),
                ('id_compra', models.ForeignKey(blank=True, db_column='ID_Compra', null=True, on_delete=django.db.models.deletion.SET_NULL, to='gestion.compras')),
                ('id_producto', models.ForeignKey(db_column='ID_Producto', on_delete=django.db.models.deletion.CASCADE, related_name='costos_historicos', to='gestion.producto')),
            ],
            options={
                'verbose_name': 'Costo Hist√≥rico',
                'verbose_name_plural': 'Costos Hist√≥ricos',
                'db_table': 'costos_historicos',
                'abstract': False,
                'managed': True,
            },
        ),
        migrations.AddField(
            model_name='compras',
            name='id_proveedor',
            field=models.ForeignKey(db_column='ID_Proveedor', on_delete=django.db.models.deletion.PROTECT, related_name='compras', to='gestion.proveedor'),
        ),
        migrations.CreateModel(
            name='PuntosExpedicion',
            fields=[
                ('id_punto', models.AutoField(db_column='ID_Punto', primary_key=True, serialize=False)),
                ('codigo_establecimiento', models.CharField(db_column='Codigo_Establecimiento', max_length=3)),
                ('codigo_punto_expedicion', models.CharField(db_column='Codigo_Punto_Expedicion', max_length=3)),
                ('descripcion_ubicacion', models.CharField(blank=True, db_column='Descripcion_Ubicacion', max_length=100, null=True)),
                ('activo', models.BooleanField(db_column='Activo', default=True)),
            ],
            options={
                'verbose_name': 'Punto de Expedici√≥n',
                'verbose_name_plural': 'Puntos de Expedici√≥n',
                'db_table': 'puntos_expedicion',
                'abstract': False,
                'managed': True,
                'unique_together': {('codigo_establecimiento', 'codigo_punto_expedicion')},
            },
        ),
        migrations.CreateModel(
            name='RestriccionesHijos',
            fields=[
                ('id_restriccion', models.AutoField(db_column='ID_Restriccion', primary_key=True, serialize=False)),
                ('tipo_restriccion', models.CharField(db_column='Tipo_Restriccion', help_text='Tipo: Cel√≠aco, Intolerancia lactosa, Alergia man√≠, Vegetariano, etc.', max_length=100)),
                ('descripcion', models.TextField(blank=True, db_column='Descripcion', help_text='Descripci√≥n detallada de la restricci√≥n', null=True)),
                ('observaciones', models.TextField(blank=True, db_column='Observaciones', help_text='Observaciones adicionales o ingredientes espec√≠ficos a evitar', null=True)),
                ('severidad', models.CharField(choices=[('Leve', 'Leve'), ('Moderada', 'Moderada'), ('Severa', 'Severa'), ('Cr√≠tica', 'Cr√≠tica')], db_column='Severidad', default='Moderada', max_length=20)),
                ('requiere_autorizacion', models.BooleanField(db_column='Requiere_Autorizacion', default=True, help_text='Si requiere autorizaci√≥n para consumir productos restringidos')),
                ('fecha_registro', models.DateTimeField(auto_now_add=True, db_column='Fecha_Registro')),
                ('fecha_ultima_actualizacion', models.DateTimeField(auto_now=True, db_column='Fecha_Ultima_Actualizacion')),
                ('activo', models.BooleanField(db_column='Activo', default=True)),
                ('id_hijo', models.ForeignKey(db_column='ID_Hijo', on_delete=django.db.models.deletion.CASCADE, related_name='restricciones', to='gestion.hijo')),
            ],
            options={
                'verbose_name': 'Restricci√≥n Alimentaria',
                'verbose_name_plural': 'Restricciones Alimentarias',
                'db_table': 'restricciones_hijos',
                'ordering': ['-severidad', 'tipo_restriccion'],
                'abstract': False,
                'managed': True,
            },
        ),
        migrations.CreateModel(
            name='StockUnico',
            fields=[
                ('id_stock_unico', models.AutoField(db_column='ID_Stock_Unico', primary_key=True, serialize=False)),
                ('cantidad', models.DecimalField(db_column='Cantidad', decimal_places=3, default=0, max_digits=10)),
                ('fecha_ultima_actualizacion', models.DateTimeField(auto_now=True, db_column='Fecha_Ultima_Actualizacion')),
                ('id_producto', models.OneToOneField(db_column='ID_Producto', on_delete=django.db.models.deletion.CASCADE, related_name='stock', to='gestion.producto')),
            ],
            options={
                'verbose_name': 'Stock',
                'verbose_name_plural': 'Stocks',
                'db_table': 'stock_unico',
                'abstract': False,
                'managed': True,
            },
        ),
        migrations.CreateModel(
            name='SuscripcionesAlmuerzo',
            fields=[
                ('id_suscripcion', models.BigAutoField(db_column='ID_Suscripcion', primary_key=True, serialize=False)),
                ('fecha_inicio', models.DateField(db_column='Fecha_Inicio')),
                ('fecha_fin', models.DateField(blank=True, db_column='Fecha_Fin', null=True)),
                ('estado', models.CharField(blank=True, choices=[('Activa', 'Activa'), ('Suspendida', 'Suspendida'), ('Cancelada', 'Cancelada')], db_column='Estado', max_length=10, null=True)),
                ('id_hijo', models.ForeignKey(db_column='ID_Hijo', on_delete=django.db.models.deletion.PROTECT, related_name='suscripciones', to='gestion.hijo')),
                ('id_plan_almuerzo', models.ForeignKey(db_column='ID_Plan_Almuerzo', on_delete=django.db.models.deletion.PROTECT, to='gestion.planesalmuerzo')),
            ],
            options={
                'verbose_name': 'Suscripci√≥n de Almuerzo',
                'verbose_name_plural': 'Suscripciones de Almuerzo',
                'db_table': 'suscripciones_almuerzo',
                'abstract': False,
                'managed': True,
                'unique_together': {('id_hijo', 'id_plan_almuerzo', 'estado')},
            },
        ),
        migrations.CreateModel(
            name='TarifasComision',
            fields=[
                ('id_tarifa', models.AutoField(db_column='ID_Tarifa', primary_key=True, serialize=False)),
                ('fecha_inicio_vigencia', models.DateTimeField(db_column='Fecha_Inicio_Vigencia')),
                ('fecha_fin_vigencia', models.DateTimeField(blank=True, db_column='Fecha_Fin_Vigencia', null=True)),
                ('porcentaje_comision', models.DecimalField(db_column='Porcentaje_Comision', decimal_places=4, max_digits=5)),
                ('monto_fijo_comision', models.DecimalField(blank=True, db_column='Monto_Fijo_Comision', decimal_places=2, max_digits=10, null=True)),
                ('activo', models.BooleanField(db_column='Activo', default=True)),
                ('id_medio_pago', models.ForeignKey(db_column='ID_Medio_Pago', on_delete=django.db.models.deletion.CASCADE, related_name='tarifas', to='gestion.mediospago')),
            ],
            options={
                'verbose_name': 'Tarifa de Comisi√≥n',
                'verbose_name_plural': 'Tarifas de Comisi√≥n',
                'db_table': 'tarifas_comision',
                'abstract': False,
                'managed': True,
            },
        ),
        migrations.CreateModel(
            name='DetalleComisionVenta',
            fields=[
                ('id_detalle_comision', models.BigAutoField(db_column='ID_Detalle_Comision', primary_key=True, serialize=False)),
                ('monto_comision_calculada', models.DecimalField(db_column='Monto_Comision_Calculada', decimal_places=2, max_digits=10)),
                ('porcentaje_aplicado', models.DecimalField(db_column='Porcentaje_Aplicado', decimal_places=4, max_digits=5)),
                ('id_pago_venta', models.ForeignKey(db_column='ID_Pago_Venta', on_delete=django.db.models.deletion.CASCADE, related_name='comisiones', to='gestion.pagosventa')),
                ('id_tarifa', models.ForeignKey(db_column='ID_Tarifa', on_delete=django.db.models.deletion.PROTECT, to='gestion.tarifascomision')),
            ],
            options={
                'verbose_name': 'Detalle de Comisi√≥n',
                'verbose_name_plural': 'Detalles de Comisi√≥n',
                'db_table': 'detalle_comision_venta',
                'abstract': False,
                'managed': True,
            },
        ),
        migrations.CreateModel(
            name='AuditoriaComisiones',
            fields=[
                ('id_auditoria', models.BigAutoField(db_column='ID_Auditoria', primary_key=True, serialize=False)),
                ('fecha_cambio', models.DateTimeField(db_column='Fecha_Cambio')),
                ('campo_modificado', models.CharField(db_column='Campo_Modificado', max_length=50)),
                ('valor_anterior', models.DecimalField(blank=True, db_column='Valor_Anterior', decimal_places=4, max_digits=10, null=True)),
                ('valor_nuevo', models.DecimalField(blank=True, db_column='Valor_Nuevo', decimal_places=4, max_digits=10, null=True)),
                ('id_empleado_modifico', models.ForeignKey(blank=True, db_column='ID_Empleado_Modifico', null=True, on_delete=django.db.models.deletion.SET_NULL, to='gestion.empleado')),
                ('id_tarifa', models.ForeignKey(blank=True, db_column='ID_Tarifa', null=True, on_delete=django.db.models.deletion.SET_NULL, to='gestion.tarifascomision')),
            ],
            options={
                'verbose_name': 'Auditor√≠a de Comisi√≥n',
                'verbose_name_plural': 'Auditor√≠as de Comisiones',
                'db_table': 'auditoria_comisiones',
                'abstract': False,
                'managed': True,
            },
        ),
        migrations.CreateModel(
            name='Tarjeta',
            fields=[
                ('nro_tarjeta', models.CharField(db_column='Nro_Tarjeta', max_length=20, primary_key=True, serialize=False)),
                ('saldo_actual', models.DecimalField(db_column='Saldo_Actual', decimal_places=2, default=0, max_digits=12)),
                ('estado', models.CharField(choices=[('Activa', 'Activa'), ('Bloqueada', 'Bloqueada'), ('Vencida', 'Vencida')], db_column='Estado', default='Activa', max_length=20)),
                ('fecha_vencimiento', models.DateField(blank=True, db_column='Fecha_Vencimiento', null=True)),
                ('saldo_alerta', models.DecimalField(blank=True, db_column='Saldo_Alerta', decimal_places=2, max_digits=10, null=True)),
                ('fecha_creacion', models.DateTimeField(auto_now_add=True, db_column='Fecha_Creacion')),
                ('permite_saldo_negativo', models.BooleanField(db_column='permite_saldo_negativo', default=False, help_text='Indica si la tarjeta puede tener saldo negativo con autorizaci√≥n')),
                ('limite_credito', models.DecimalField(db_column='limite_credito', decimal_places=2, default=0, help_text='Monto m√°ximo de cr√©dito (saldo negativo) permitido en guaran√≠es', max_digits=12)),
                ('notificar_saldo_bajo', models.BooleanField(db_column='notificar_saldo_bajo', default=True, help_text='Enviar notificaciones cuando el saldo est√° bajo o negativo')),
                ('ultima_notificacion_saldo', models.DateTimeField(blank=True, db_column='ultima_notificacion_saldo', help_text='Fecha de la √∫ltima notificaci√≥n de saldo enviada', null=True)),
                ('id_hijo', models.OneToOneField(db_column='ID_Hijo', on_delete=django.db.models.deletion.PROTECT, to='gestion.hijo')),
            ],
            options={
                'verbose_name': 'Tarjeta',
                'verbose_name_plural': 'Tarjetas',
                'db_table': 'tarjetas',
                'abstract': False,
                'managed': True,
            },
        ),
        migrations.CreateModel(
            name='SolicitudesNotificacion',
            fields=[
                ('id_solicitud', models.BigAutoField(db_column='ID_Solicitud', primary_key=True, serialize=False)),
                ('saldo_alerta', models.DecimalField(db_column='Saldo_Alerta', decimal_places=2, max_digits=10)),
                ('mensaje', models.CharField(db_column='Mensaje', max_length=255)),
                ('destino', models.CharField(choices=[('SMS', 'SMS'), ('Email', 'Email'), ('WhatsApp', 'WhatsApp')], db_column='Destino', max_length=8)),
                ('estado', models.CharField(blank=True, choices=[('Pendiente', 'Pendiente'), ('Enviada', 'Enviada'), ('Fallida', 'Fallida')], db_column='Estado', max_length=9, null=True)),
                ('fecha_solicitud', models.DateTimeField(db_column='Fecha_Solicitud')),
                ('fecha_envio', models.DateTimeField(blank=True, db_column='Fecha_Envio', null=True)),
                ('id_cliente', models.ForeignKey(db_column='ID_Cliente', on_delete=django.db.models.deletion.CASCADE, related_name='notificaciones', to='gestion.cliente')),
                ('nro_tarjeta', models.ForeignKey(db_column='Nro_Tarjeta', on_delete=django.db.models.deletion.CASCADE, to='gestion.tarjeta')),
            ],
            options={
                'verbose_name': 'Solicitud de Notificaci√≥n',
                'verbose_name_plural': 'Solicitudes de Notificaci√≥n',
                'db_table': 'solicitudes_notificacion',
                'abstract': False,
                'managed': True,
            },
        ),
        migrations.AddField(
            model_name='pagosventa',
            name='nro_tarjeta_usada',
            field=models.ForeignKey(blank=True, db_column='Nro_Tarjeta_Usada', null=True, on_delete=django.db.models.deletion.PROTECT, to='gestion.tarjeta'),
        ),
        migrations.CreateModel(
            name='ConsumoTarjeta',
            fields=[
                ('id_consumo', models.BigAutoField(db_column='ID_Consumo', primary_key=True, serialize=False)),
                ('fecha_consumo', models.DateTimeField(db_column='Fecha_Consumo')),
                ('monto_consumido', models.DecimalField(db_column='Monto_Consumido', decimal_places=2, max_digits=12)),
                ('detalle', models.CharField(blank=True, db_column='Detalle', max_length=200, null=True)),
                ('saldo_anterior', models.DecimalField(db_column='Saldo_Anterior', decimal_places=2, max_digits=12)),
                ('saldo_posterior', models.DecimalField(db_column='Saldo_Posterior', decimal_places=2, max_digits=12)),
                ('id_empleado_registro', models.ForeignKey(blank=True, db_column='ID_Empleado_Registro', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='consumos_registrados', to='gestion.empleado')),
                ('nro_tarjeta', models.ForeignKey(db_column='Nro_Tarjeta', on_delete=django.db.models.deletion.PROTECT, related_name='consumos', to='gestion.tarjeta')),
            ],
            options={
                'verbose_name': 'Consumo con Tarjeta',
                'verbose_name_plural': 'Consumos con Tarjeta',
                'db_table': 'consumos_tarjeta',
                'ordering': ['-fecha_consumo'],
                'abstract': False,
                'managed': True,
            },
        ),
        migrations.CreateModel(
            name='CargasSaldo',
            fields=[
                ('id_carga', models.BigAutoField(db_column='ID_Carga', primary_key=True, serialize=False)),
                ('fecha_carga', models.DateTimeField(db_column='Fecha_Carga')),
                ('monto_cargado', models.DecimalField(db_column='Monto_Cargado', decimal_places=2, max_digits=12)),
                ('referencia', models.CharField(blank=True, db_column='Referencia', max_length=100, null=True)),
                ('estado', models.CharField(choices=[('PENDIENTE', 'Pendiente'), ('CONFIRMADO', 'Confirmado'), ('CANCELADO', 'Cancelado'), ('ERROR', 'Error')], default='PENDIENTE', help_text='Estado de la transacci√≥n con MetrePay', max_length=20)),
                ('pay_request_id', models.CharField(blank=True, help_text='ID de transacci√≥n de MetrePay', max_length=100, null=True)),
                ('tx_id', models.CharField(blank=True, help_text='ID de transacci√≥n (txId) de MetrePay', max_length=100, null=True)),
                ('fecha_confirmacion', models.DateTimeField(blank=True, help_text='Fecha de confirmaci√≥n del pago', null=True)),
                ('custom_identifier', models.CharField(blank=True, help_text='Identificador √∫nico para MetrePay', max_length=100, null=True)),
                ('id_cliente_origen', models.ForeignKey(blank=True, db_column='ID_Cliente_Origen', null=True, on_delete=django.db.models.deletion.PROTECT, related_name='cargas_origen', to='gestion.cliente')),
                ('id_nota', models.ForeignKey(blank=True, db_column='ID_Nota', null=True, on_delete=django.db.models.deletion.PROTECT, to='gestion.notascreditocliente')),
                ('nro_tarjeta', models.ForeignKey(db_column='Nro_Tarjeta', on_delete=django.db.models.deletion.PROTECT, to='gestion.tarjeta')),
            ],
            options={
                'verbose_name': 'Carga de Saldo',
                'verbose_name_plural': 'Cargas de Saldo',
                'db_table': 'cargas_saldo',
                'abstract': False,
                'managed': True,
            },
        ),
        migrations.CreateModel(
            name='TarjetaAutorizacion',
            fields=[
                ('id_tarjeta_autorizacion', models.AutoField(db_column='ID_Tarjeta_Autorizacion', primary_key=True, serialize=False)),
                ('codigo_barra', models.CharField(db_column='Codigo_Barra', max_length=50, unique=True)),
                ('tipo_autorizacion', models.CharField(choices=[('ADMIN', 'Administrador'), ('SUPERVISOR', 'Supervisor'), ('CAJERO', 'Cajero')], db_column='Tipo_Autorizacion', default='ADMIN', max_length=15)),
                ('puede_anular_almuerzos', models.BooleanField(db_column='Puede_Anular_Almuerzos', default=True)),
                ('puede_anular_ventas', models.BooleanField(db_column='Puede_Anular_Ventas', default=True)),
                ('puede_anular_recargas', models.BooleanField(db_column='Puede_Anular_Recargas', default=True)),
                ('puede_modificar_precios', models.BooleanField(db_column='Puede_Modificar_Precios', default=False)),
                ('activo', models.BooleanField(db_column='Activo', default=True)),
                ('fecha_creacion', models.DateTimeField(auto_now_add=True, db_column='Fecha_Creacion')),
                ('fecha_vencimiento', models.DateField(blank=True, db_column='Fecha_Vencimiento', null=True)),
                ('observaciones', models.TextField(blank=True, db_column='Observaciones', null=True)),
                ('id_empleado', models.ForeignKey(blank=True, db_column='ID_Empleado', null=True, on_delete=django.db.models.deletion.SET_NULL, to='gestion.empleado')),
            ],
            options={
                'verbose_name': 'Tarjeta de Autorizaci√≥n',
                'verbose_name_plural': 'Tarjetas de Autorizaci√≥n',
                'db_table': 'tarjetas_autorizacion',
                'abstract': False,
                'managed': True,
            },
        ),
        migrations.CreateModel(
            name='LogAutorizacion',
            fields=[
                ('id_log', models.BigAutoField(db_column='ID_Log', primary_key=True, serialize=False)),
                ('codigo_barra', models.CharField(db_column='Codigo_Barra', max_length=50)),
                ('tipo_operacion', models.CharField(choices=[('ANULAR_ALMUERZO', 'Anular Almuerzo'), ('ANULAR_VENTA', 'Anular Venta'), ('ANULAR_RECARGA', 'Anular Recarga'), ('MODIFICAR_PRECIO', 'Modificar Precio'), ('OTRO', 'Otro')], db_column='Tipo_Operacion', max_length=20)),
                ('id_registro_afectado', models.BigIntegerField(blank=True, db_column='ID_Registro_Afectado', null=True)),
                ('descripcion', models.TextField(blank=True, db_column='Descripcion', null=True)),
                ('id_usuario', models.IntegerField(blank=True, db_column='ID_Usuario', null=True)),
                ('fecha_hora', models.DateTimeField(auto_now_add=True, db_column='Fecha_Hora')),
                ('ip_origen', models.CharField(blank=True, db_column='IP_Origen', max_length=45, null=True)),
                ('resultado', models.CharField(choices=[('EXITOSO', 'Exitoso'), ('RECHAZADO', 'Rechazado'), ('ERROR', 'Error')], db_column='Resultado', default='EXITOSO', max_length=15)),
                ('id_tarjeta_autorizacion', models.ForeignKey(db_column='ID_Tarjeta_Autorizacion', on_delete=django.db.models.deletion.CASCADE, to='gestion.tarjetaautorizacion')),
            ],
            options={
                'verbose_name': 'Log de Autorizaci√≥n',
                'verbose_name_plural': 'Logs de Autorizaciones',
                'db_table': 'log_autorizaciones',
                'ordering': ['-fecha_hora'],
                'abstract': False,
                'managed': True,
            },
        ),
        migrations.CreateModel(
            name='Timbrados',
            fields=[
                ('nro_timbrado', models.IntegerField(db_column='Nro_Timbrado', primary_key=True, serialize=False)),
                ('tipo_documento', models.CharField(choices=[('Factura', 'Factura'), ('Boleta', 'Boleta'), ('Nota Cr√©dito', 'Nota Cr√©dito'), ('Nota D√©bito', 'Nota D√©bito')], db_column='Tipo_Documento', max_length=12)),
                ('fecha_inicio', models.DateField(db_column='Fecha_Inicio')),
                ('fecha_fin', models.DateField(db_column='Fecha_Fin')),
                ('nro_inicial', models.IntegerField(db_column='Nro_Inicial')),
                ('nro_final', models.IntegerField(db_column='Nro_Final')),
                ('es_electronico', models.BooleanField(db_column='Es_Electronico', default=False)),
                ('activo', models.BooleanField(db_column='Activo', default=True)),
                ('id_punto', models.ForeignKey(db_column='ID_Punto', on_delete=django.db.models.deletion.PROTECT, to='gestion.puntosexpedicion')),
            ],
            options={
                'verbose_name': 'Timbrado',
                'verbose_name_plural': 'Timbrados',
                'db_table': 'timbrados',
                'abstract': False,
                'managed': True,
            },
        ),
        migrations.AddField(
            model_name='documentostributarios',
            name='nro_timbrado',
            field=models.ForeignKey(db_column='Nro_Timbrado', on_delete=django.db.models.deletion.PROTECT, to='gestion.timbrados'),
        ),
        migrations.CreateModel(
            name='RegistroConsumoAlmuerzo',
            fields=[
                ('id_registro_consumo', models.BigAutoField(db_column='ID_Registro_Consumo', primary_key=True, serialize=False)),
                ('fecha_consumo', models.DateField(auto_now_add=True, db_column='Fecha_Consumo')),
                ('costo_almuerzo', models.DecimalField(blank=True, db_column='Costo_Almuerzo', decimal_places=2, max_digits=10, null=True)),
                ('marcado_en_cuenta', models.BooleanField(db_column='Marcado_En_Cuenta', default=False)),
                ('id_suscripcion', models.BigIntegerField(blank=True, db_column='ID_Suscripcion', null=True)),
                ('hora_registro', models.TimeField(auto_now_add=True, db_column='Hora_Registro')),
                ('id_hijo', models.ForeignKey(db_column='ID_Hijo', on_delete=django.db.models.deletion.PROTECT, to='gestion.hijo')),
                ('nro_tarjeta', models.ForeignKey(blank=True, db_column='Nro_Tarjeta', null=True, on_delete=django.db.models.deletion.PROTECT, related_name='registros_almuerzo', to='gestion.tarjeta')),
                ('id_tipo_almuerzo', models.ForeignKey(blank=True, db_column='ID_Tipo_Almuerzo', null=True, on_delete=django.db.models.deletion.PROTECT, to='gestion.tipoalmuerzo')),
            ],
            options={
                'verbose_name': 'Registro de Almuerzo',
                'verbose_name_plural': 'Registros de Almuerzos',
                'db_table': 'registro_consumo_almuerzo',
                'ordering': ['-fecha_consumo', '-hora_registro'],
                'abstract': False,
                'managed': True,
            },
        ),
        migrations.AddField(
            model_name='cliente',
            name='id_tipo_cliente',
            field=models.ForeignKey(db_column='ID_Tipo_Cliente', on_delete=django.db.models.deletion.PROTECT, to='gestion.tipocliente'),
        ),
        migrations.AddField(
            model_name='empleado',
            name='id_rol',
            field=models.ForeignKey(db_column='ID_Rol', on_delete=django.db.models.deletion.PROTECT, to='gestion.tiporolgeneral'),
        ),
        migrations.CreateModel(
            name='TokenRecuperacion',
            fields=[
                ('id_token', models.AutoField(db_column='ID_Token', primary_key=True, serialize=False)),
                ('token', models.CharField(db_column='Token', max_length=64, unique=True)),
                ('fecha_creacion', models.DateTimeField(db_column='Fecha_Creacion')),
                ('fecha_expiracion', models.DateTimeField(db_column='Fecha_Expiracion')),
                ('usado', models.BooleanField(db_column='Usado', default=False)),
                ('fecha_uso', models.DateTimeField(blank=True, db_column='Fecha_Uso', null=True)),
                ('ip_solicitud', models.CharField(blank=True, db_column='IP_Solicitud', max_length=45, null=True)),
                ('id_cliente', models.ForeignKey(db_column='ID_Cliente', on_delete=django.db.models.deletion.CASCADE, to='gestion.cliente')),
            ],
            options={
                'verbose_name': 'Token de Recuperaci√≥n',
                'verbose_name_plural': 'Tokens de Recuperaci√≥n',
                'db_table': 'tokens_recuperacion',
                'ordering': ['-fecha_creacion'],
                'abstract': False,
                'managed': True,
            },
        ),
        migrations.CreateModel(
            name='UsuarioPortal',
            fields=[
                ('id_usuario_portal', models.AutoField(db_column='ID_Usuario_Portal', primary_key=True, serialize=False)),
                ('email', models.EmailField(db_column='Email', max_length=255, unique=True)),
                ('password_hash', models.CharField(db_column='Password_Hash', max_length=255)),
                ('email_verificado', models.BooleanField(db_column='Email_Verificado', default=False)),
                ('fecha_registro', models.DateTimeField(auto_now_add=True, db_column='Fecha_Registro')),
                ('ultimo_acceso', models.DateTimeField(blank=True, db_column='Ultimo_Acceso', null=True)),
                ('activo', models.BooleanField(db_column='Activo', default=True)),
                ('cliente', models.OneToOneField(db_column='ID_Cliente', on_delete=django.db.models.deletion.CASCADE, related_name='usuario_portal', to='gestion.cliente')),
            ],
            options={
                'verbose_name': 'Usuario Portal',
                'verbose_name_plural': 'Usuarios Portal',
                'db_table': 'usuarios_portal',
                'abstract': False,
                'managed': True,
            },
        ),
        migrations.CreateModel(
            name='TransaccionOnline',
            fields=[
                ('id_transaccion', models.AutoField(db_column='ID_Transaccion', primary_key=True, serialize=False)),
                ('monto', models.BigIntegerField(db_column='Monto')),
                ('metodo_pago', models.CharField(choices=[('metrepay', 'MetrePay'), ('tigo_money', 'Tigo Money')], db_column='Metodo_Pago', max_length=20)),
                ('estado', models.CharField(choices=[('pendiente', 'Pendiente'), ('completado', 'Completado'), ('fallido', 'Fallido'), ('cancelado', 'Cancelado')], db_column='Estado', default='pendiente', max_length=20)),
                ('referencia_pago', models.CharField(blank=True, db_column='Referencia_Pago', max_length=255, null=True)),
                ('id_transaccion_externa', models.CharField(blank=True, db_column='ID_Transaccion_Externa', max_length=255, null=True)),
                ('datos_extra', models.TextField(blank=True, db_column='Datos_Extra', null=True)),
                ('fecha_transaccion', models.DateTimeField(db_column='Fecha_Transaccion')),
                ('creado_en', models.DateTimeField(auto_now_add=True, db_column='Creado_En')),
                ('actualizado_en', models.DateTimeField(auto_now=True, db_column='Actualizado_En')),
                ('nro_tarjeta', models.ForeignKey(blank=True, db_column='Nro_Tarjeta', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='transacciones_online', to='gestion.tarjeta')),
                ('usuario_portal', models.ForeignKey(blank=True, db_column='ID_Usuario_Portal', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='transacciones', to='gestion.usuarioportal')),
            ],
            options={
                'verbose_name': 'Transacci√≥n Online',
                'verbose_name_plural': 'Transacciones Online',
                'db_table': 'transaccion_online',
                'ordering': ['-fecha_transaccion'],
                'abstract': False,
                'managed': True,
            },
        ),
        migrations.CreateModel(
            name='TokenVerificacion',
            fields=[
                ('id_token', models.AutoField(db_column='ID_Token', primary_key=True, serialize=False)),
                ('token', models.CharField(db_column='Token', max_length=100, unique=True)),
                ('tipo', models.CharField(choices=[('email_verification', 'Verificaci√≥n de Email'), ('password_reset', 'Recuperaci√≥n de Contrase√±a')], db_column='Tipo', max_length=50)),
                ('expira_en', models.DateTimeField(db_column='Expira_En')),
                ('usado', models.BooleanField(db_column='Usado', default=False)),
                ('fecha_creacion', models.DateTimeField(auto_now_add=True, db_column='Fecha_Creacion')),
                ('fecha_uso', models.DateTimeField(blank=True, db_column='Fecha_Uso', null=True)),
                ('usuario_portal', models.ForeignKey(db_column='ID_Usuario_Portal', on_delete=django.db.models.deletion.CASCADE, related_name='tokens', to='gestion.usuarioportal')),
            ],
            options={
                'verbose_name': 'Token de Verificaci√≥n',
                'verbose_name_plural': 'Tokens de Verificaci√≥n',
                'db_table': 'tokens_verificacion',
                'abstract': False,
                'managed': True,
            },
        ),
        migrations.CreateModel(
            name='PreferenciaNotificacion',
            fields=[
                ('id_preferencia', models.AutoField(db_column='ID_Preferencia', primary_key=True, serialize=False)),
                ('tipo_notificacion', models.CharField(db_column='Tipo_Notificacion', max_length=50)),
                ('email_activo', models.BooleanField(db_column='Email_Activo', default=True)),
                ('push_activo', models.BooleanField(db_column='Push_Activo', default=True)),
                ('creado_en', models.DateTimeField(auto_now_add=True, db_column='Creado_En')),
                ('actualizado_en', models.DateTimeField(auto_now=True, db_column='Actualizado_En')),
                ('usuario_portal', models.ForeignKey(db_column='ID_Usuario_Portal', on_delete=django.db.models.deletion.CASCADE, related_name='preferencias_notificacion', to='gestion.usuarioportal')),
            ],
            options={
                'verbose_name': 'Preferencia de Notificaci√≥n',
                'verbose_name_plural': 'Preferencias de Notificaci√≥n',
                'db_table': 'preferencia_notificacion',
                'abstract': False,
                'managed': True,
            },
        ),
        migrations.CreateModel(
            name='Notificacion',
            fields=[
                ('id_notificacion', models.AutoField(db_column='ID_Notificacion', primary_key=True, serialize=False)),
                ('tipo', models.CharField(choices=[('saldo_bajo', 'Saldo Bajo'), ('recarga_exitosa', 'Recarga Exitosa'), ('consumo_realizado', 'Consumo Realizado'), ('tarjeta_bloqueada', 'Tarjeta Bloqueada'), ('restriccion_aplicada', 'Restricci√≥n Aplicada'), ('info_general', 'Informaci√≥n General')], db_column='Tipo', max_length=50)),
                ('titulo', models.CharField(db_column='Titulo', max_length=255)),
                ('mensaje', models.TextField(db_column='Mensaje')),
                ('leida', models.BooleanField(db_column='Leida', default=False)),
                ('fecha_envio', models.DateTimeField(db_column='Fecha_Envio', default=django.utils.timezone.now)),
                ('fecha_lectura', models.DateTimeField(blank=True, db_column='Fecha_Lectura', null=True)),
                ('creado_en', models.DateTimeField(auto_now_add=True, db_column='Creado_En')),
                ('usuario_portal', models.ForeignKey(db_column='ID_Usuario_Portal', on_delete=django.db.models.deletion.CASCADE, related_name='notificaciones', to='gestion.usuarioportal')),
            ],
            options={
                'verbose_name': 'Notificaci√≥n',
                'verbose_name_plural': 'Notificaciones',
                'db_table': 'notificacion',
                'ordering': ['-fecha_envio'],
                'abstract': False,
                'managed': True,
            },
        ),
        migrations.CreateModel(
            name='Ventas',
            fields=[
                ('id_venta', models.BigAutoField(db_column='ID_Venta', primary_key=True, serialize=False)),
                ('nro_factura_venta', models.BigIntegerField(blank=True, db_column='Nro_Factura_Venta', null=True)),
                ('fecha', models.DateTimeField(db_column='Fecha')),
                ('monto_total', models.BigIntegerField(db_column='Monto_Total')),
                ('saldo_pendiente', models.BigIntegerField(blank=True, db_column='Saldo_Pendiente', null=True)),
                ('estado_pago', models.CharField(choices=[('PENDIENTE', 'Pendiente'), ('PARCIAL', 'Parcial'), ('PAGADA', 'Pagada')], db_column='Estado_Pago', default='PENDIENTE', max_length=10)),
                ('estado', models.CharField(choices=[('PROCESADO', 'Procesado'), ('ANULADO', 'Anulado')], db_column='Estado', default='PROCESADO', max_length=10)),
                ('tipo_venta', models.CharField(choices=[('CONTADO', 'Contado'), ('CREDITO', 'Cr√©dito')], db_column='Tipo_Venta', max_length=20)),
                ('motivo_credito', models.TextField(blank=True, db_column='Motivo_Credito', help_text='Justificaci√≥n de la venta a cr√©dito', null=True)),
                ('genera_factura_legal', models.BooleanField(db_column='Genera_Factura_Legal', default=False, help_text='True si la venta genera factura contable (solo pagos con medios externos)')),
                ('autorizado_por', models.ForeignKey(blank=True, db_column='Autorizado_Por', help_text='Supervisor que autoriz√≥ la venta (para ventas a cr√©dito con saldo insuficiente)', null=True, on_delete=django.db.models.deletion.PROTECT, related_name='ventas_autorizadas', to='gestion.empleado')),
                ('id_cliente', models.ForeignKey(db_column='ID_Cliente', on_delete=django.db.models.deletion.PROTECT, related_name='ventas', to='gestion.cliente')),
                ('id_empleado_cajero', models.ForeignKey(db_column='ID_Empleado_Cajero', on_delete=django.db.models.deletion.PROTECT, to='gestion.empleado')),
                ('id_hijo', models.ForeignKey(blank=True, db_column='ID_Hijo', null=True, on_delete=django.db.models.deletion.PROTECT, to='gestion.hijo')),
                ('id_tipo_pago', models.ForeignKey(db_column='ID_Tipo_Pago', on_delete=django.db.models.deletion.PROTECT, to='gestion.tipospago')),
            ],
            options={
                'verbose_name': 'Venta',
                'verbose_name_plural': 'Ventas',
                'db_table': 'ventas',
                'abstract': False,
                'managed': True,
            },
        ),
        migrations.CreateModel(
            name='PromocionAplicada',
            fields=[
                ('id_aplicacion', models.AutoField(db_column='ID_Aplicacion', primary_key=True, serialize=False)),
                ('monto_descontado', models.DecimalField(db_column='Monto_Descontado', decimal_places=2, max_digits=10)),
                ('fecha_aplicacion', models.DateTimeField(auto_now_add=True, db_column='Fecha_Aplicacion')),
                ('id_promocion', models.ForeignKey(db_column='ID_Promocion', on_delete=django.db.models.deletion.PROTECT, related_name='aplicaciones', to='gestion.promocion')),
                ('id_venta', models.ForeignKey(db_column='ID_Venta', on_delete=django.db.models.deletion.CASCADE, related_name='promociones_aplicadas', to='gestion.ventas')),
            ],
            options={
                'verbose_name': 'Promoci√≥n Aplicada',
                'verbose_name_plural': 'Promociones Aplicadas',
                'db_table': 'promociones_aplicadas',
                'abstract': False,
                'managed': True,
            },
        ),
        migrations.AddField(
            model_name='pagosventa',
            name='id_venta',
            field=models.ForeignKey(db_column='ID_Venta', on_delete=django.db.models.deletion.CASCADE, related_name='pagos', to='gestion.ventas'),
        ),
        migrations.CreateModel(
            name='PagosAlmuerzoMensual',
            fields=[
                ('id_pago_almuerzo', models.BigAutoField(db_column='ID_Pago_Almuerzo', primary_key=True, serialize=False)),
                ('fecha_pago', models.DateTimeField(db_column='Fecha_Pago')),
                ('monto_pagado', models.DecimalField(db_column='Monto_Pagado', decimal_places=2, max_digits=10)),
                ('mes_pagado', models.DateField(db_column='Mes_Pagado')),
                ('estado', models.CharField(blank=True, choices=[('Pagado', 'Pagado'), ('Pendiente', 'Pendiente'), ('Vencido', 'Vencido')], db_column='Estado', max_length=9, null=True)),
                ('id_suscripcion', models.ForeignKey(db_column='ID_Suscripcion', on_delete=django.db.models.deletion.PROTECT, related_name='pagos', to='gestion.suscripcionesalmuerzo')),
                ('id_venta', models.OneToOneField(blank=True, db_column='ID_Venta', null=True, on_delete=django.db.models.deletion.SET_NULL, to='gestion.ventas')),
            ],
            options={
                'verbose_name': 'Pago de Almuerzo Mensual',
                'verbose_name_plural': 'Pagos de Almuerzo Mensual',
                'db_table': 'pagos_almuerzo_mensual',
                'abstract': False,
                'managed': True,
            },
        ),
        migrations.AddField(
            model_name='notascreditocliente',
            name='id_venta_original',
            field=models.ForeignKey(blank=True, db_column='ID_Venta_Original', null=True, on_delete=django.db.models.deletion.SET_NULL, to='gestion.ventas'),
        ),
        migrations.CreateModel(
            name='MovimientosStock',
            fields=[
                ('id_movimientostock', models.BigAutoField(db_column='ID_MovimientoStock', primary_key=True, serialize=False)),
                ('fecha_hora', models.DateTimeField(db_column='Fecha_Hora')),
                ('tipo_movimiento', models.CharField(choices=[('Entrada', 'Entrada'), ('Salida', 'Salida'), ('Ajuste', 'Ajuste')], db_column='Tipo_Movimiento', max_length=7)),
                ('cantidad', models.DecimalField(db_column='Cantidad', decimal_places=3, max_digits=10)),
                ('stock_resultante', models.DecimalField(db_column='Stock_Resultante', decimal_places=3, default=0, help_text='Se calcula autom√°ticamente por el trigger trg_stock_unico_after_movement', max_digits=10)),
                ('referencia_documento', models.CharField(blank=True, db_column='Referencia_Documento', max_length=50, null=True)),
                ('id_compra', models.ForeignKey(blank=True, db_column='ID_Compra', null=True, on_delete=django.db.models.deletion.SET_NULL, to='gestion.compras')),
                ('id_empleado_autoriza', models.ForeignKey(db_column='ID_Empleado_Autoriza', on_delete=django.db.models.deletion.PROTECT, to='gestion.empleado')),
                ('id_producto', models.ForeignKey(db_column='ID_Producto', on_delete=django.db.models.deletion.PROTECT, related_name='movimientos', to='gestion.producto')),
                ('id_venta', models.ForeignKey(blank=True, db_column='ID_Venta', null=True, on_delete=django.db.models.deletion.SET_NULL, to='gestion.ventas')),
            ],
            options={
                'verbose_name': 'Movimiento de Stock',
                'verbose_name_plural': 'Movimientos de Stock',
                'db_table': 'movimientos_stock',
                'abstract': False,
                'managed': True,
            },
        ),
        migrations.CreateModel(
            name='DetalleVenta',
            fields=[
                ('id_detalle', models.BigAutoField(db_column='ID_Detalle', primary_key=True, serialize=False)),
                ('cantidad', models.DecimalField(db_column='Cantidad', decimal_places=3, max_digits=10)),
                ('precio_unitario', models.BigIntegerField(db_column='Precio_Unitario')),
                ('subtotal_total', models.BigIntegerField(db_column='Subtotal_Total')),
                ('id_producto', models.ForeignKey(db_column='ID_Producto', on_delete=django.db.models.deletion.PROTECT, to='gestion.producto')),
                ('id_venta', models.ForeignKey(db_column='ID_Venta', on_delete=django.db.models.deletion.CASCADE, related_name='detalles', to='gestion.ventas')),
            ],
            options={
                'verbose_name': 'Detalle de Venta',
                'verbose_name_plural': 'Detalles de Venta',
                'db_table': 'detalle_venta',
                'abstract': False,
                'managed': True,
            },
        ),
        migrations.CreateModel(
            name='AutorizacionSaldoNegativo',
            fields=[
                ('id_autorizacion', models.BigAutoField(db_column='id_autorizacion', primary_key=True, serialize=False)),
                ('saldo_anterior', models.BigIntegerField(db_column='saldo_anterior', help_text='Saldo antes de la venta')),
                ('monto_venta', models.BigIntegerField(db_column='monto_venta', help_text='Monto de la venta')),
                ('saldo_resultante', models.BigIntegerField(db_column='saldo_resultante', help_text='Saldo despu√©s de la venta (negativo)')),
                ('motivo', models.CharField(db_column='motivo', help_text='Justificaci√≥n de la autorizaci√≥n', max_length=255)),
                ('fecha_autorizacion', models.DateTimeField(auto_now_add=True, db_column='fecha_autorizacion')),
                ('fecha_regularizacion', models.DateTimeField(blank=True, db_column='fecha_regularizacion', null=True)),
                ('regularizado', models.BooleanField(db_column='regularizado', default=False)),
                ('id_carga_regularizacion', models.ForeignKey(blank=True, db_column='id_carga_regularizacion', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='regularizaciones', to='gestion.cargassaldo')),
                ('id_empleado_autoriza', models.ForeignKey(db_column='id_empleado_autoriza', on_delete=django.db.models.deletion.RESTRICT, related_name='autorizaciones_realizadas', to='gestion.empleado')),
                ('nro_tarjeta', models.ForeignKey(db_column='nro_tarjeta', on_delete=django.db.models.deletion.CASCADE, related_name='autorizaciones', to='gestion.tarjeta')),
                ('id_venta', models.ForeignKey(db_column='id_venta', on_delete=django.db.models.deletion.RESTRICT, related_name='autorizaciones_saldo', to='gestion.ventas')),
            ],
            options={
                'verbose_name': 'Autorizaci√≥n de Saldo Negativo',
                'verbose_name_plural': 'Autorizaciones de Saldo Negativo',
                'db_table': 'autorizacion_saldo_negativo',
                'abstract': False,
                'managed': True,
            },
        ),
        migrations.CreateModel(
            name='AplicacionPagosVentas',
            fields=[
                ('id_aplicacion', models.BigAutoField(db_column='ID_Aplicacion', primary_key=True, serialize=False)),
                ('monto_aplicado', models.BigIntegerField(db_column='Monto_Aplicado')),
                ('id_pago_venta', models.ForeignKey(db_column='ID_Pago_Venta', on_delete=django.db.models.deletion.CASCADE, to='gestion.pagosventa')),
                ('id_venta', models.ForeignKey(db_column='ID_Venta', on_delete=django.db.models.deletion.CASCADE, to='gestion.ventas')),
            ],
            options={
                'verbose_name': 'Aplicaci√≥n de Pago a Venta',
                'verbose_name_plural': 'Aplicaciones de Pagos a Ventas',
                'db_table': 'aplicacion_pagos_ventas',
                'abstract': False,
                'managed': True,
            },
        ),
        migrations.CreateModel(
            name='VistaRecargasHistorial',
            fields=[
                ('id_carga', models.BigIntegerField(db_column='ID_Carga', primary_key=True, serialize=False)),
                ('fecha_carga', models.DateTimeField(db_column='Fecha_Carga')),
                ('monto_cargado', models.DecimalField(db_column='Monto_Cargado', decimal_places=2, max_digits=10)),
                ('nro_tarjeta', models.CharField(db_column='Nro_Tarjeta', max_length=20)),
                ('estudiante', models.CharField(db_column='Estudiante', max_length=202)),
                ('responsable', models.CharField(db_column='Responsable', max_length=201)),
                ('telefono', models.CharField(db_column='Telefono', max_length=20)),
                ('empleado_registro', models.CharField(db_column='Empleado_Registro', max_length=100)),
                ('saldo_actual_tarjeta', models.BigIntegerField(db_column='Saldo_Actual_Tarjeta')),
                ('id_hijo', models.ForeignKey(db_column='ID_Hijo', on_delete=django.db.models.deletion.DO_NOTHING, related_name='recargas_vista', to='gestion.hijo')),
            ],
            options={
                'verbose_name': 'Vista: Historial de Recargas',
                'verbose_name_plural': 'Vista: Historial de Recargas',
                'db_table': 'v_recargas_historial',
                'abstract': False,
                'managed': True,
            },
        ),
        migrations.CreateModel(
            name='PreciosPorLista',
            fields=[
                ('id_precio', models.AutoField(db_column='ID_Precio', primary_key=True, serialize=False)),
                ('precio_venta', models.DecimalField(db_column='Precio_Venta', decimal_places=2, max_digits=12)),
                ('activo', models.BooleanField(db_column='Activo', default=True)),
                ('fecha_inicio_vigencia', models.DateTimeField(db_column='Fecha_Inicio_Vigencia')),
                ('fecha_fin_vigencia', models.DateTimeField(blank=True, db_column='Fecha_Fin_Vigencia', null=True)),
                ('id_lista_precios', models.ForeignKey(db_column='ID_Lista_Precios', on_delete=django.db.models.deletion.CASCADE, related_name='precios_productos', to='gestion.listaprecios')),
                ('id_producto', models.ForeignKey(db_column='ID_Producto', on_delete=django.db.models.deletion.CASCADE, related_name='precios_lista', to='gestion.producto')),
            ],
            options={
                'verbose_name': 'Precio por Lista',
                'verbose_name_plural': 'Precios por Lista',
                'db_table': 'precios_por_lista',
                'abstract': False,
                'managed': True,
                'unique_together': {('id_producto', 'id_lista_precios')},
            },
        ),
        migrations.CreateModel(
            name='DetalleNota',
            fields=[
                ('id_detalle', models.BigAutoField(db_column='ID_Detalle', primary_key=True, serialize=False)),
                ('cantidad', models.DecimalField(db_column='Cantidad', decimal_places=3, max_digits=8)),
                ('precio_unitario', models.DecimalField(db_column='Precio_Unitario', decimal_places=2, max_digits=10)),
                ('subtotal', models.DecimalField(db_column='Subtotal', decimal_places=2, max_digits=12)),
                ('id_nota', models.ForeignKey(db_column='ID_Nota', on_delete=django.db.models.deletion.CASCADE, related_name='detalles', to='gestion.notascreditocliente')),
                ('id_producto', models.ForeignKey(db_column='ID_Producto', on_delete=django.db.models.deletion.PROTECT, to='gestion.producto')),
            ],
            options={
                'verbose_name': 'Detalle de Nota de Cr√©dito',
                'verbose_name_plural': 'Detalles de Notas de Cr√©dito',
                'db_table': 'detalle_nota',
                'abstract': False,
                'managed': True,
                'unique_together': {('id_nota', 'id_producto')},
            },
        ),
        migrations.CreateModel(
            name='DetalleCompra',
            fields=[
                ('id_detalle', models.BigAutoField(db_column='ID_Detalle', primary_key=True, serialize=False)),
                ('costo_unitario_neto', models.DecimalField(db_column='Costo_Unitario_Neto', decimal_places=2, max_digits=10)),
                ('cantidad', models.DecimalField(db_column='Cantidad', decimal_places=3, max_digits=8)),
                ('subtotal_neto', models.DecimalField(db_column='Subtotal_Neto', decimal_places=2, max_digits=12)),
                ('monto_iva', models.DecimalField(blank=True, db_column='Monto_IVA', decimal_places=2, max_digits=10, null=True)),
                ('id_compra', models.ForeignKey(db_column='ID_Compra', on_delete=django.db.models.deletion.CASCADE, related_name='detalles', to='gestion.compras')),
                ('id_producto', models.ForeignKey(db_column='ID_Producto', on_delete=django.db.models.deletion.PROTECT, to='gestion.producto')),
            ],
            options={
                'verbose_name': 'Detalle de Compra',
                'verbose_name_plural': 'Detalles de Compra',
                'db_table': 'detalle_compra',
                'abstract': False,
                'managed': True,
                'unique_together': {('id_compra', 'id_producto')},
            },
        ),
        migrations.CreateModel(
            name='DetalleAjuste',
            fields=[
                ('id_detalle', models.BigAutoField(db_column='ID_Detalle', primary_key=True, serialize=False)),
                ('cantidad_ajustada', models.DecimalField(db_column='Cantidad_Ajustada', decimal_places=3, max_digits=8)),
                ('id_ajuste', models.ForeignKey(db_column='ID_Ajuste', on_delete=django.db.models.deletion.CASCADE, related_name='detalles', to='gestion.ajustesinventario')),
                ('id_movimientostock', models.OneToOneField(db_column='ID_MovimientoStock', on_delete=django.db.models.deletion.CASCADE, to='gestion.movimientosstock')),
                ('id_producto', models.ForeignKey(db_column='ID_Producto', on_delete=django.db.models.deletion.PROTECT, to='gestion.producto')),
            ],
            options={
                'verbose_name': 'Detalle de Ajuste',
                'verbose_name_plural': 'Detalles de Ajuste',
                'db_table': 'detalle_ajuste',
                'abstract': False,
                'managed': True,
                'unique_together': {('id_ajuste', 'id_producto')},
            },
        ),
        migrations.CreateModel(
            name='ProductoAlergeno',
            fields=[
                ('id_producto_alergeno', models.AutoField(db_column='ID_Producto_Alergeno', primary_key=True, serialize=False)),
                ('contiene', models.BooleanField(db_column='Contiene', default=True, help_text='True: Contiene el al√©rgeno. False: Puede contener trazas')),
                ('observaciones', models.TextField(blank=True, db_column='Observaciones', null=True)),
                ('fecha_registro', models.DateTimeField(auto_now_add=True, db_column='Fecha_Registro')),
                ('usuario_registro', models.CharField(blank=True, db_column='Usuario_Registro', max_length=100, null=True)),
                ('id_alergeno', models.ForeignKey(db_column='ID_Alergeno', on_delete=django.db.models.deletion.CASCADE, related_name='productos_con_alergeno', to='gestion.alergeno')),
                ('id_producto', models.ForeignKey(db_column='ID_Producto', on_delete=django.db.models.deletion.CASCADE, related_name='alergenos_producto', to='gestion.producto')),
            ],
            options={
                'verbose_name': 'Producto-Al√©rgeno',
                'verbose_name_plural': 'Productos-Al√©rgenos',
                'db_table': 'producto_alergenos',
                'abstract': False,
                'managed': True,
                'unique_together': {('id_producto', 'id_alergeno')},
            },
        ),
        migrations.CreateModel(
            name='ProductoPromocion',
            fields=[
                ('id_producto_promocion', models.AutoField(db_column='ID_Producto_Promocion', primary_key=True, serialize=False)),
                ('id_producto', models.ForeignKey(db_column='ID_Producto', on_delete=django.db.models.deletion.CASCADE, related_name='promociones_producto', to='gestion.producto')),
                ('id_promocion', models.ForeignKey(db_column='ID_Promocion', on_delete=django.db.models.deletion.CASCADE, related_name='productos_promocion', to='gestion.promocion')),
            ],
            options={
                'verbose_name': 'Producto en Promoci√≥n',
                'verbose_name_plural': 'Productos en Promoci√≥n',
                'db_table': 'productos_promocion',
                'abstract': False,
                'managed': True,
                'unique_together': {('id_promocion', 'id_producto')},
            },
        ),
        migrations.CreateModel(
            name='CategoriaPromocion',
            fields=[
                ('id_categoria_promocion', models.AutoField(db_column='ID_Categoria_Promocion', primary_key=True, serialize=False)),
                ('id_categoria', models.ForeignKey(db_column='ID_Categoria', on_delete=django.db.models.deletion.CASCADE, related_name='promociones_categoria', to='gestion.categoria')),
                ('id_promocion', models.ForeignKey(db_column='ID_Promocion', on_delete=django.db.models.deletion.CASCADE, related_name='categorias_promocion', to='gestion.promocion')),
            ],
            options={
                'verbose_name': 'Categor√≠a en Promoci√≥n',
                'verbose_name_plural': 'Categor√≠as en Promoci√≥n',
                'db_table': 'categorias_promocion',
                'abstract': False,
                'managed': True,
                'unique_together': {('id_promocion', 'id_categoria')},
            },
        ),
        migrations.CreateModel(
            name='NotificacionSaldo',
            fields=[
                ('id_notificacion', models.BigAutoField(db_column='id_notificacion', primary_key=True, serialize=False)),
                ('tipo_notificacion', models.CharField(choices=[('SALDO_BAJO', 'Saldo Bajo'), ('SALDO_NEGATIVO', 'Saldo Negativo'), ('SALDO_CRITICO', 'Saldo Cr√≠tico'), ('REGULARIZADO', 'Saldo Regularizado')], db_column='tipo_notificacion', max_length=50)),
                ('saldo_actual', models.BigIntegerField(db_column='saldo_actual')),
                ('mensaje', models.TextField(db_column='mensaje')),
                ('enviada_email', models.BooleanField(db_column='enviada_email', default=False)),
                ('enviada_sms', models.BooleanField(db_column='enviada_sms', default=False)),
                ('leida', models.BooleanField(db_column='leida', default=False)),
                ('email_destinatario', models.EmailField(blank=True, db_column='email_destinatario', max_length=254, null=True)),
                ('fecha_creacion', models.DateTimeField(auto_now_add=True, db_column='fecha_creacion')),
                ('fecha_envio', models.DateTimeField(blank=True, db_column='fecha_envio', null=True)),
                ('nro_tarjeta', models.ForeignKey(db_column='nro_tarjeta', on_delete=django.db.models.deletion.CASCADE, related_name='notificaciones_saldo', to='gestion.tarjeta')),
            ],
            options={
                'verbose_name': 'Notificaci√≥n de Saldo',
                'verbose_name_plural': 'Notificaciones de Saldo',
                'db_table': 'notificacion_saldo',
                'abstract': False,
                'managed': True,
                'indexes': [models.Index(fields=['nro_tarjeta', 'tipo_notificacion'], name='idx_tarjeta_tipo_not'), models.Index(fields=['leida'], name='idx_leida_not'), models.Index(fields=['fecha_creacion'], name='idx_fecha_creacion_not')],
            },
        ),
        migrations.AlterUniqueTogether(
            name='documentostributarios',
            unique_together={('nro_timbrado', 'nro_secuencial')},
        ),
        migrations.AddIndex(
            model_name='producto',
            index=models.Index(fields=['descripcion'], name='productos_Descrip_8ec57a_idx'),
        ),
        migrations.AddConstraint(
            model_name='preferencianotificacion',
            constraint=models.UniqueConstraint(fields=('usuario_portal', 'tipo_notificacion'), name='unique_usuario_tipo'),
        ),
        migrations.AlterUniqueTogether(
            name='pagosalmuerzomensual',
            unique_together={('id_suscripcion', 'mes_pagado')},
        ),
        migrations.AlterUniqueTogether(
            name='detalleventa',
            unique_together={('id_venta', 'id_producto')},
        ),
        migrations.AddIndex(
            model_name='autorizacionsaldonegativo',
            index=models.Index(fields=['nro_tarjeta', 'fecha_autorizacion'], name='idx_tarjeta_fecha_auth'),
        ),
        migrations.AddIndex(
            model_name='autorizacionsaldonegativo',
            index=models.Index(fields=['regularizado'], name='idx_regularizado'),
        ),
        migrations.AddIndex(
            model_name='autorizacionsaldonegativo',
            index=models.Index(fields=['id_empleado_autoriza'], name='idx_empleado_auth'),
        ),
    ]
