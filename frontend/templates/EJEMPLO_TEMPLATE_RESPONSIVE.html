{% comment %}
===========================================
EJEMPLO DE TEMPLATE RESPONSIVE
===========================================

Este template demuestra cómo usar todos los componentes
mobile-responsive en un nuevo template.

Copia este ejemplo y adapta según tus necesidades.
===========================================
{% endcomment %}

{% extends "base.html" %}
{% load static %}
{% load custom_filters %}

{% block title %}Mi Página Responsive{% endblock %}

{% block extra_styles %}
<style>
    /* Estilos personalizados para esta página */
    .my-card {
        @apply bg-white rounded-xl shadow-lg p-4 md:p-6 transition-all hover:shadow-2xl;
    }
    
    .my-stat-box {
        @apply p-4 rounded-lg text-white min-h-[100px] md:min-h-[120px];
    }
</style>
{% endblock %}

{% block content %}
{# ========================================== #}
{# CONTAINER PRINCIPAL CON PADDING BOTTOM     #}
{# ========================================== #}
<div class="container mx-auto px-4 py-4 md:py-8 pb-24 md:pb-8">
    
    {# ========================================== #}
    {# HEADER RESPONSIVE                          #}
    {# ========================================== #}
    <header class="bg-white rounded-2xl shadow-lg p-4 md:p-6 mb-6">
        <div class="flex items-center justify-between gap-4">
            <div class="flex-1">
                {# Título adaptativo - diferentes tamaños según breakpoint #}
                <h1 class="text-2xl md:text-4xl font-bold text-gray-800">
                    <i class="fas fa-home mr-2 md:mr-3 text-lg md:text-3xl"></i>
                    <span class="hidden sm:inline">Mi Título Completo</span>
                    <span class="sm:hidden">Título</span>
                </h1>
                
                {# Subtítulo oculto en mobile #}
                <p class="text-sm md:text-base text-gray-600 mt-2 hidden xs:block">
                    Este es un subtítulo que se oculta en pantallas muy pequeñas
                </p>
            </div>
            
            {# Botón de acción principal - solo en desktop #}
            <div class="hidden md:block">
                <button class="btn btn-primary">
                    <i class="fas fa-plus mr-2"></i>
                    Nuevo
                </button>
            </div>
        </div>
    </header>
    
    {# ========================================== #}
    {# GRID DE STATS - RESPONSIVE                 #}
    {# ========================================== #}
    <div class="grid grid-cols-1 xs:grid-cols-2 md:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-6">
        
        {# Stat Card 1 #}
        <div class="my-stat-box bg-gradient-to-r from-blue-500 to-blue-600">
            <div class="flex items-center justify-between">
                <div>
                    <p class="text-xs md:text-sm opacity-90">Total Usuarios</p>
                    <p class="text-2xl md:text-3xl font-bold mt-1">1,234</p>
                </div>
                <i class="fas fa-users text-3xl md:text-4xl opacity-20"></i>
            </div>
        </div>
        
        {# Stat Card 2 #}
        <div class="my-stat-box bg-gradient-to-r from-green-500 to-green-600">
            <div class="flex items-center justify-between">
                <div>
                    <p class="text-xs md:text-sm opacity-90">Ventas Hoy</p>
                    <p class="text-2xl md:text-3xl font-bold mt-1">₲ 500K</p>
                </div>
                <i class="fas fa-chart-line text-3xl md:text-4xl opacity-20"></i>
            </div>
        </div>
        
        {# Stat Card 3 - Oculta en xs #}
        <div class="my-stat-box bg-gradient-to-r from-purple-500 to-purple-600 hidden xs:block">
            <div class="flex items-center justify-between">
                <div>
                    <p class="text-xs md:text-sm opacity-90">Productos</p>
                    <p class="text-2xl md:text-3xl font-bold mt-1">156</p>
                </div>
                <i class="fas fa-box text-3xl md:text-4xl opacity-20"></i>
            </div>
        </div>
        
        {# Stat Card 4 - Solo desktop #}
        <div class="my-stat-box bg-gradient-to-r from-orange-500 to-orange-600 hidden md:block">
            <div class="flex items-center justify-between">
                <div>
                    <p class="text-xs md:text-sm opacity-90">Alertas</p>
                    <p class="text-2xl md:text-3xl font-bold mt-1">3</p>
                </div>
                <i class="fas fa-bell text-3xl md:text-4xl opacity-20"></i>
            </div>
        </div>
    </div>
    
    {# ========================================== #}
    {# ACCIONES RÁPIDAS - GRID RESPONSIVE         #}
    {# ========================================== #}
    <div class="my-card mb-6">
        <h2 class="text-lg md:text-xl font-bold mb-4">
            <i class="fas fa-bolt mr-2 text-warning"></i>
            Acciones Rápidas
        </h2>
        
        {# Grid 2 columnas en móvil, 4 en desktop #}
        <div class="grid grid-cols-2 md:grid-cols-4 gap-3 md:gap-4">
            <button class="btn btn-primary flex-col h-24 md:h-32">
                <i class="fas fa-plus text-2xl mb-2"></i>
                <span class="text-xs md:text-sm">Crear</span>
            </button>
            
            <button class="btn btn-success flex-col h-24 md:h-32">
                <i class="fas fa-upload text-2xl mb-2"></i>
                <span class="text-xs md:text-sm">Subir</span>
            </button>
            
            <button class="btn btn-info flex-col h-24 md:h-32">
                <i class="fas fa-search text-2xl mb-2"></i>
                <span class="text-xs md:text-sm">Buscar</span>
            </button>
            
            <button class="btn btn-warning flex-col h-24 md:h-32">
                <i class="fas fa-cog text-2xl mb-2"></i>
                <span class="text-xs md:text-sm">Config</span>
            </button>
        </div>
    </div>
    
    {# ========================================== #}
    {# TABLA RESPONSIVE CON MOBILE STACK          #}
    {# ========================================== #}
    <div class="my-card">
        <div class="flex flex-col md:flex-row md:items-center justify-between gap-4 mb-4">
            <h2 class="text-lg md:text-xl font-bold">
                <i class="fas fa-table mr-2"></i>
                Listado de Datos
            </h2>
            
            {# Botones de exportación - responsive #}
            <div class="flex flex-wrap gap-2">
                <button class="btn btn-sm md:btn-md btn-success">
                    <i class="fas fa-file-excel"></i>
                    <span class="hidden sm:inline ml-2">Excel</span>
                </button>
                <button class="btn btn-sm md:btn-md btn-error">
                    <i class="fas fa-file-pdf"></i>
                    <span class="hidden sm:inline ml-2">PDF</span>
                </button>
                <button class="btn btn-sm md:btn-md btn-outline hidden md:inline-flex">
                    <i class="fas fa-print mr-2"></i>
                    Imprimir
                </button>
            </div>
        </div>
        
        {# Búsqueda #}
        <div class="mb-4">
            <input type="text" 
                   placeholder="Buscar..." 
                   class="input input-bordered w-full md:max-w-md">
        </div>
        
        {# Tabla con clase mobile-stack #}
        <div class="overflow-x-auto">
            <table class="table table-zebra w-full table-mobile-stack">
                <thead data-mobile="hide">
                    <tr class="bg-base-200">
                        <th>ID</th>
                        <th>Nombre</th>
                        <th>Email</th>
                        <th>Estado</th>
                        <th>Acciones</th>
                    </tr>
                </thead>
                <tbody>
                    <tr class="hover">
                        <td data-label="ID">1</td>
                        <td data-label="Nombre">Juan Pérez</td>
                        <td data-label="Email">juan@example.com</td>
                        <td data-label="Estado">
                            <span class="badge badge-success">Activo</span>
                        </td>
                        <td data-label="Acciones">
                            <button class="btn btn-sm btn-ghost">
                                <i class="fas fa-edit"></i>
                            </button>
                            <button class="btn btn-sm btn-ghost text-error">
                                <i class="fas fa-trash"></i>
                            </button>
                        </td>
                    </tr>
                    <tr class="hover">
                        <td data-label="ID">2</td>
                        <td data-label="Nombre">María García</td>
                        <td data-label="Email">maria@example.com</td>
                        <td data-label="Estado">
                            <span class="badge badge-warning">Pendiente</span>
                        </td>
                        <td data-label="Acciones">
                            <button class="btn btn-sm btn-ghost">
                                <i class="fas fa-edit"></i>
                            </button>
                            <button class="btn btn-sm btn-ghost text-error">
                                <i class="fas fa-trash"></i>
                            </button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        
        {# Paginación responsive #}
        <div class="flex flex-col xs:flex-row justify-between items-center gap-4 mt-4 pt-4 border-t">
            <div class="text-xs md:text-sm text-gray-600">
                Mostrando 1-10 de 50 registros
            </div>
            <div class="join">
                <button class="join-item btn btn-sm">«</button>
                <button class="join-item btn btn-sm btn-active">1</button>
                <button class="join-item btn btn-sm">2</button>
                <button class="join-item btn btn-sm">3</button>
                <button class="join-item btn btn-sm">»</button>
            </div>
        </div>
    </div>
    
    {# ========================================== #}
    {# FORMULARIO RESPONSIVE                      #}
    {# ========================================== #}
    <div class="my-card mt-6">
        <h2 class="text-lg md:text-xl font-bold mb-4">
            <i class="fas fa-edit mr-2"></i>
            Formulario de Ejemplo
        </h2>
        
        <form class="space-y-4">
            {# Grid 1 columna en móvil, 2 en desktop #}
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div class="form-control">
                    <label class="label">
                        <span class="label-text">Nombre</span>
                    </label>
                    <input type="text" 
                           placeholder="Ingresa tu nombre" 
                           class="input input-bordered w-full">
                </div>
                
                <div class="form-control">
                    <label class="label">
                        <span class="label-text">Email</span>
                    </label>
                    <input type="email" 
                           placeholder="ejemplo@email.com" 
                           class="input input-bordered w-full">
                </div>
            </div>
            
            <div class="form-control">
                <label class="label">
                    <span class="label-text">Mensaje</span>
                </label>
                <textarea class="textarea textarea-bordered h-24" 
                          placeholder="Escribe tu mensaje..."></textarea>
            </div>
            
            {# Botones responsive #}
            <div class="flex flex-col xs:flex-row gap-2 md:gap-4">
                <button type="submit" 
                        class="btn btn-primary flex-1 xs:flex-none">
                    <i class="fas fa-save mr-2"></i>
                    Guardar
                </button>
                <button type="button" 
                        class="btn btn-ghost flex-1 xs:flex-none">
                    Cancelar
                </button>
            </div>
        </form>
    </div>
    
</div>

{# ========================================== #}
{# FLOATING ACTION BUTTON (SOLO MOBILE)       #}
{# ========================================== #}
<div class="fab-mobile md:hidden no-print" x-data="{ open: false }">
    <button @click="open = !open" 
            class="btn btn-circle btn-lg bg-primary hover:bg-orange-600 text-white shadow-2xl"
            :class="{ 'rotate-45': open }">
        <i class="fas fa-plus text-2xl" x-show="!open"></i>
        <i class="fas fa-times text-2xl" x-show="open"></i>
    </button>
    
    {# Menu de acciones rápidas #}
    <div x-show="open"
         x-transition
         @click.away="open = false"
         class="absolute bottom-20 right-0 flex flex-col gap-3">
        
        <button class="btn btn-circle btn-md bg-blue-500 text-white shadow-lg">
            <i class="fas fa-user"></i>
        </button>
        <button class="btn btn-circle btn-md bg-green-500 text-white shadow-lg">
            <i class="fas fa-shopping-cart"></i>
        </button>
        <button class="btn btn-circle btn-md bg-purple-500 text-white shadow-lg">
            <i class="fas fa-heart"></i>
        </button>
    </div>
</div>

{# ========================================== #}
{# BOTTOM NAVIGATION                          #}
{# ========================================== #}
{% include "components/mobile-bottom-nav.html" with active_page="dashboard" %}

{% endblock %}

{% block page_scripts %}
<script>
// Alpine.js data para esta página
function miPaginaData() {
    return {
        loading: false,
        searchQuery: '',
        
        init() {
            console.log('Página responsive cargada');
        },
        
        buscar() {
            console.log('Buscando:', this.searchQuery);
        }
    }
}
</script>
{% endblock %}
