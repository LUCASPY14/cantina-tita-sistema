# =============================================================================
# VARIABLES DE ENTORNO - Sistema de Gestión de Cantina
# =============================================================================
# Copia este archivo a .env y configura los valores según tu entorno
# NUNCA subas el archivo .env a Git (incluido en .gitignore)

# =============================================================================
# DJANGO SETTINGS
# =============================================================================

# Secret Key - CAMBIAR EN PRODUCCIÓN
# Generar con: python -c 'from django.core.management.utils import get_random_secret_key; print(get_random_secret_key())'
SECRET_KEY=django-insecure-CHANGE-THIS-IN-PRODUCTION-1234567890abcdefghijk

# Debug Mode - SIEMPRE False en producción
# True para desarrollo, False para producción
DEBUG=True

# Allowed Hosts - Separados por coma
# Ejemplo: ALLOWED_HOSTS=localhost,127.0.0.1,ejemplo.com,www.ejemplo.com
ALLOWED_HOSTS=localhost,127.0.0.1,testserver

# =============================================================================
# BASE DE DATOS MySQL
# =============================================================================

# Configuración de conexión MySQL
DB_NAME=cantina_titadb
DB_USER=root
DB_PASSWORD=tu_password_aqui
DB_HOST=localhost
DB_PORT=3306

# Password root de MySQL (solo para Docker)
DB_ROOT_PASSWORD=rootpassword

# =============================================================================
# REDIS CACHE
# =============================================================================

# URL de conexión Redis
# Formato: redis://host:port/db
REDIS_URL=redis://localhost:6379/1
REDIS_PORT=6379

# =============================================================================
# CONFIGURACIÓN DE PUERTOS (Development & Docker)
# =============================================================================

# Puerto Django
DJANGO_PORT=8000

# Puerto Nginx
NGINX_PORT=80
NGINX_SSL_PORT=443

# =============================================================================
# EMAIL SETTINGS (SMTP)
# =============================================================================

# Servidor SMTP
# Gmail: smtp.gmail.com (puerto 587)
# Outlook: smtp-mail.outlook.com (puerto 587)
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USE_TLS=True

# Credenciales email
# Para Gmail, usar App Password: https://support.google.com/accounts/answer/185833
EMAIL_HOST_USER=tu_email@gmail.com
EMAIL_HOST_PASSWORD=tu_app_password_aqui

# Email remitente por defecto
DEFAULT_FROM_EMAIL=noreply@cantina.com

# =============================================================================
# FACTURACIÓN ELECTRÓNICA (SIFEN - Paraguay)
# =============================================================================

# Credenciales SIFEN
SIFEN_ENDPOINT=https://sifen.set.gov.py/de/ws/sync/envio.wsdl
SIFEN_RUC=12345678-9
SIFEN_ESTABLECIMIENTO=001
SIFEN_PUNTO_EXPEDICION=001
SIFEN_USUARIO=usuario_sifen
SIFEN_PASSWORD=password_sifen

# Modo de operación (test|production)
SIFEN_MODE=test

# Certificado digital (.p12)
SIFEN_CERT_PATH=/path/to/certificate.p12
SIFEN_CERT_PASSWORD=cert_password

# =============================================================================
# PASARELAS DE PAGO
# =============================================================================

# Tigo Money (Paraguay)
TIGO_MONEY_MERCHANT_ID=tu_merchant_id
TIGO_MONEY_SECRET_KEY=tu_secret_key
TIGO_MONEY_API_URL=https://test.tigo.com.py/api/v1
TIGO_MONEY_MODE=test

# Metrepay (Opcional)
METREPAY_API_KEY=tu_api_key
METREPAY_MERCHANT_ID=tu_merchant_id
METREPAY_API_URL=https://api.metrepay.com/v1

# =============================================================================
# WHATSAPP INTEGRATION
# =============================================================================

# WhatsApp Business API
WHATSAPP_API_URL=http://localhost:3000
WHATSAPP_API_TOKEN=tu_token_whatsapp
WHATSAPP_BUSINESS_NUMBER=+595981234567

# =============================================================================
# SEGURIDAD
# =============================================================================

# reCAPTCHA (Google)
# Obtener en: https://www.google.com/recaptcha/admin
RECAPTCHA_PUBLIC_KEY=tu_recaptcha_site_key
RECAPTCHA_PRIVATE_KEY=tu_recaptcha_secret_key

# Autenticación de dos factores (2FA)
OTP_TOTP_ISSUER=Cantina Tita Sistema

# Rate Limiting (requests por minuto)
RATE_LIMIT_PER_MINUTE=60

# =============================================================================
# CSRF SETTINGS
# =============================================================================

# CSRF Trusted Origins - Separados por coma
# Incluir protocolo: http:// o https://
CSRF_TRUSTED_ORIGINS=http://localhost:8000,http://127.0.0.1:8000

# =============================================================================
# SESSION SETTINGS
# =============================================================================

# Tiempo de expiración de sesión (en segundos)
# 1800 = 30 minutos, 3600 = 1 hora, 7200 = 2 horas
SESSION_COOKIE_AGE=3600

# Expirar sesión al cerrar navegador
SESSION_EXPIRE_AT_BROWSER_CLOSE=False

# =============================================================================
# CONFIGURACIÓN REGIONAL (Paraguay)
# =============================================================================

# Zona horaria
# Paraguay: America/Asuncion
TIME_ZONE=America/Asuncion

# Idioma
# Español de Paraguay: es-PY
LANGUAGE_CODE=es-py

# Moneda
CURRENCY=PYG
CURRENCY_SYMBOL=Gs.

# =============================================================================
# LOGGING
# =============================================================================

# Nivel de log (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# Directorio de logs
LOG_DIR=./logs

# =============================================================================
# CELERY (Tareas Asíncronas)
# =============================================================================

# Broker URL (Redis)
CELERY_BROKER_URL=redis://localhost:6379/0

# Result Backend (Redis)
CELERY_RESULT_BACKEND=redis://localhost:6379/0

# =============================================================================
# STATIC & MEDIA FILES
# =============================================================================

# URL base para archivos estáticos
STATIC_URL=/static/

# URL base para archivos media
MEDIA_URL=/media/

# Directorio raíz para media files
MEDIA_ROOT=./backend/media

# Directorio raíz para static files
STATIC_ROOT=./backend/staticfiles

# =============================================================================
# FRONTEND (Vite)
# =============================================================================

# URL del frontend en desarrollo
VITE_DEV_SERVER_URL=http://localhost:5173

# =============================================================================
# BACKUP Y MANTENIMIENTO
# =============================================================================

# Directorio de backups
BACKUP_DIR=./backups

# Retención de backups (días)
BACKUP_RETENTION_DAYS=30

# =============================================================================
# PERFORMANCE
# =============================================================================

# Número de workers Gunicorn (en producción)
# Fórmula recomendada: (2 x num_cores) + 1
GUNICORN_WORKERS=4

# Timeout Gunicorn (segundos)
GUNICORN_TIMEOUT=120

# =============================================================================
# DESARROLLO
# =============================================================================

# Habilitar Django Debug Toolbar
ENABLE_DEBUG_TOOLBAR=True

# Mostrar SQL queries en consola
SHOW_SQL_QUERIES=False

# =============================================================================
# PRODUCCIÓN
# =============================================================================

# Habilitar HTTPS redirect
SECURE_SSL_REDIRECT=False

# Habilitar HSTS
SECURE_HSTS_SECONDS=0

# Cookie segura (solo HTTPS)
SESSION_COOKIE_SECURE=False
CSRF_COOKIE_SECURE=False

# =============================================================================
# CORS (Cross-Origin Resource Sharing)
# =============================================================================

# Permitir CORS desde estos orígenes (separados por coma)
CORS_ALLOWED_ORIGINS=http://localhost:5173,http://localhost:8000

# Permitir credenciales en CORS
CORS_ALLOW_CREDENTIALS=True

# =============================================================================
# API SETTINGS
# =============================================================================

# Paginación por defecto
API_PAGE_SIZE=20

# Máximo items por página
API_MAX_PAGE_SIZE=100

# =============================================================================
# IMPRESORA TÉRMICA
# =============================================================================

# Tipo de impresora (epson, star, generic)
PRINTER_TYPE=epson

# Dirección IP de la impresora (si es red)
PRINTER_IP=192.168.1.100

# Puerto de la impresora
PRINTER_PORT=9100

# Ancho de papel (caracteres)
PRINTER_WIDTH=48

# =============================================================================
# NOTIFICACIONES
# =============================================================================

# Habilitar notificaciones por email
ENABLE_EMAIL_NOTIFICATIONS=True

# Habilitar notificaciones por WhatsApp
ENABLE_WHATSAPP_NOTIFICATIONS=False

# Habilitar notificaciones push
ENABLE_PUSH_NOTIFICATIONS=False

# =============================================================================
# REPORTES
# =============================================================================

# Formato de fecha en reportes (DD/MM/YYYY para Paraguay)
REPORT_DATE_FORMAT=%d/%m/%Y

# Formato de hora en reportes
REPORT_TIME_FORMAT=%H:%M:%S

# Logo de la empresa (ruta relativa)
COMPANY_LOGO_PATH=media/logo.png

# =============================================================================
# NOTAS
# =============================================================================
# 
# 1. NUNCA subir este archivo .env a repositorios públicos
# 2. Usar valores diferentes para desarrollo, staging y producción
# 3. Mantener este archivo sincronizado con .env.example
# 4. Documentar nuevas variables agregadas
# 5. Usar valores seguros en producción (passwords fuertes, SECRET_KEY único)
#
# =============================================================================
